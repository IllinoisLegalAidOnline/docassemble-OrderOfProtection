metadata:
  title: Order of Protection
  short title: Order of Protection
  comment: This program helps you ask the court to order someone to stop harming or threatening you or other household members.
  authors:
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALToolbox:escape_button.yml  
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
  - op_review.yml
---
default screen parts:
  under: |
    **Worried about doing this on your own?** Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
    % if not user_logged_in():
    
    [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
    % endif
    
    Feedback, suggestions, or comments? [**Let us know**](${ interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url , easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1) } ){:target="_blank"}.

    % if nav.get_section() != None:
    % if nav.get_section() != "section_intro" and nav.get_section() != "section_download":
    % if current_context().question_id == None:
    ${ action_button_html(url_action('review_answers'), label=':edit: Edit answers', color='success', size="md") }
    % elif "review screen" not in current_context().question_id:
    ${ action_button_html(url_action('review_answers'), label=':edit: Edit answers', color='success', size="md") }
    % endif
    % endif
    % endif
---
objects:
  - users: ALPeopleList.using(there_are_any=True)
  - other_parties: ALPeopleList.using(there_are_any=True)
  - other_parties[0].work_address: ALAddress
  - shared_kids: ALPeopleList.using(complete_attribute='complete', there_are_any=True)
  - petitioner_kids: ALPeopleList.using(there_are_any=True)
  - other_hh_members: ALPeopleList.using(there_are_any=True)
  - dependent_adult: ALIndividual
  - high_risk_adult: ALIndividual
  - other_ops: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - other_cases: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - incidents: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - jobs: ALAddressList.using(there_are_any=True)
  - schools: ALAddressList.using(there_are_any=True)
  - other_locations: ALAddressList.using(there_are_any=True)
  - other_caretaker: ALIndividual
  - return_children_other_person: ALIndividual
  - return_children_location: ALAddress
  - pt_supervisor: ALIndividual
  - pt_location: ALAddress
  - pt_pickup_location: ALAddress
  - pt_transportation_person: ALIndividual
  - pt_return_location: ALAddress
  - petitioner_personal_property: DAList.using(object_type=Thing, there_are_any=True)
  - one_time_transfer_person: ALIndividual
  - other_return_property_person: ALIndividual
  - other_transfer_property_person: ALIndividual
  - property_transfer_location: ALAddress
  - pets: DAList.using(object_type=Thing, there_are_any=True)
  - other_phone_account_holder: ALIndividual
  - cell_numbers: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - service_address: ALAddress
  - second_service_address: ALAddress
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')

---
code: |
  ilao_easy_form_title = "Order of Protection"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/order-protection"
  form_name = "Order of Protection"
  al_form_type = 'new_case'
  user_ask_role = 'plaintiff'
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-OrderOfProtection'
  allowed_courts = ['Circuit']
---
# Road map
sections:
  - section_intro: Start
  - section_basic: Basic information
  - section_petitioner: People you want to protect
  - section_incidents: What happened
  - section_protections: Protections
  - section_child: About your children (optional)
  - section_property: Property details
  - section_remedies: Other remedies
  - section_respondent: About the person who caused abuse
  - section_filing_info: Filing and service details
  - section_download: Download
---
# interview order block
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start  
  instructions
  whats_next
  accept_terms
  who_can_be_protected
  important_op_info
  if in_illinois == False:
    not_in_illinois
  
  nav.set_section('section_basic')
  set_progress(10)
  trial_court
  
  if jurisdiction_type.all_false():
    other_jurisdiction_location
  if trial_court_index == -1:
    cook_after_hours

  relationship_bg
  if not has_required_relationship:
    other_relief
  
  #  if relationship_type.all_false():
  #    other_relief
  users.gather(number=1)
  other_parties.gather(number=1)
  if minor_kids_with_respondent:
    shared_kids.gather()

  nav.set_section('section_petitioner')
  set_progress(20)
  
  protect_petitioner
  if protect_petitioner_kids:
    petitioner_kids.gather()
  if protect_dependent_adult:
    dependent_adult.name.first
  if protect_high_risk_adult:
    high_risk_adult.name.first
  if protect_other_hh_members:
    other_hh_members.gather()

  nav.set_section('section_incidents')
  set_progress(30)
  incidents_intro
  incidents.gather()

  nav.set_section('section_protections')
  set_progress(40)
  no_harassment
  stay_away
  hide_address
  users[0].address.address
  if residence_remedies == 'exclusive possession':
    exclusive_possession_reason
  if not (stay_away or no_communication or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')):
    no_stay_under_influence
  if stay_away_jobs:
    if hide_work_address == False:
      jobs[0].employer
      if stay_away_jobs_2:
        jobs[1].employer
  if stay_away_schools:
    schools[0].name
    if minor_kids_with_respondent or protect_petitioner_kids:
      if schools[0].hide:
        schools[0].type
    if stay_away_schools_2:
      schools[1].name
      if minor_kids_with_respondent or protect_petitioner_kids:
        if schools[1].hide:
          schools[1].type
  if stay_away_other:
    if hide_other_address_1:
      other_locations_hidden_description_1
    else:  
      other_locations[0].name
    if stay_away_other_2:
      if hide_other_address_2:
        other_locations_hidden_description_2
      else:
        other_locations[1].name
  if same_school:
    if same_school_restrictions != "none":
      same_school_name
    
  nav.set_section('section_child')
  set_progress(50)
  if minor_kids_with_respondent:
    if parentage == "parentage_established_other":
      parentage_other
    if primary_caretaker == "other":
      other_caretaker.name.first
      other_caretaker.address.address
    temp_custody_of_children  
    physical_care_of_children
    no_conceal_children
    no_removal_school
    
    #if no_removal_school:
      #keep_schools_confidential
    no_records_no_contact
    if current_possession_of_children == False:
      return_children_to
      if return_children_to == "court":
        appear_with_children_prevent
      else:
        if knows_return_children_details:
          return_children_location.address
          on_or_by
    if parenting_time != "reserve":
      if parenting_time == "restrict" or parenting_time == "deny":
        restrict_or_deny_pt_reasons
      if parenting_time == "restrict" or parenting_time == "grant":
        if pt_format == "interview":
          set_days_of_week
          if pt_weekdays:
            pt_weekday_days
          if pt_weekends:
            pt_weekend_days
          if pt_holidays:
            pt_holiday_list
          pt_start_date
        if pt_supervised:
          if pt_supervisor_type == "person":
            pt_supervisor.name.first
            if pt_location_identified:
              pt_location.address
          else:
            pt_visitation_center_name
        pt_transportation
        if pt_separate_pickup_location:
          pt_pickup_location.address
        if pt_separate_return_location:
          pt_return_location.address
        pt_immediate_return

  nav.set_section('section_property')
  set_progress(60)
  #appear_alone_for_exam
  if award_personal_property:
    petitioner_personal_property.gather()
    if return_property:
      if return_property_person == "other":
        other_return_property_person.name.first
      return_property_reason
  if return_respo_property:
    respo_property
  respondent_one_time_entry
  
  if return_property == True or return_respo_property == True or respondent_one_time_entry: 
    if property_transfer_location_cb:
      property_transfer_location.address
    if property_transfer_present_cb:
      property_transfer_person
    if property_transfer_know_date:
      property_transfer_date
  if possession_of_animals:
    pets.gather()
  if separate_phone_service:
    phone_account_holder
    phone_provider
    cell_numbers.gather()
  if restrict_other_property:
    restricted_property
    restrict_property_reason
  restrict_elderly_petitioner_resources 
 
  nav.set_section('section_remedies')
  set_progress(70)
  if minor_kids_with_respondent:
    temp_child_support
  if relationship_ma:
    if relationship_se == True or relationship_xs == True:
      temp_maintenance    
  expenses_none    
    
  if request_counseling:
    dv_counseling

  if firearms_threat:
    firearms_turnover
    intimate_partner
  firearms_reasons

  misc_remedies_text

  nav.set_section('section_respondent')
  set_progress(80)
  knows_respondent_dob
  if knows_respondent_dob == "exact":  
    if other_parties[0].age_in_years() < 18:
      if respondent_parent_help == "Yes":
        respondent_parent_name
  else:
    if respondent_parent_help == "Yes":
      respondent_parent_name
  
  other_parties[0].gender
  other_parties[0].race
  if trial_court_index == -1:
    other_parties[0].height_feet
    other_parties[0].tattoos
    caution_reasons

  if knows_respondent_home:
    other_parties[0].address.address
  else:
    if knows_respondent_home_last:
      other_parties[0].address.address
  other_parties[0].phone_number
  if trial_court_index == -1:
    respondent_on_social_media
  
  if knows_respondent_work:
    other_parties[0].work_address.address
    
  if trial_court_index == -1:
    cook_vehicle_color
    
  if has_other_ops == "Yes":
    other_ops.gather()
  if has_other_cases == "Yes":
    other_cases.gather()  

  nav.set_section('section_filing_info')
  set_progress(90)
  service_method
  if service_method == "sheriff" and service_state != "IL":
    service_county

  if service_address_choice == "other":
    service_address.address
  if has_second_service_address:  
    if second_service_address_choice == "other":
      second_service_address.address
    other_parties[0].phone_number_alt

  if trial_court_index == -1:
    service_information
  
  eop 
  case_number
  if trial_court_index == -1:
    if previous_cook_case_type != "none":
      previous_cook_case_date

  users[0].phone_number
  if users[0].email_notice == True:
    users[0].email
  e_signature

  nav.set_section('section_download')  
  set_progress(100)
  #clean_up
  forms_assembling
  snapshot_forms
  get_docs_screen
---
code: |
  stuff_to_snapshot = {
  	'start_time': str(current_datetime().format_datetime()),
  	'started_interview': True, 
  	}

  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass
    
  stuff_to_snapshot['zip'] = showifdef('users[0].address.zip')

  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')

  try:
    stuff_to_snapshot['session_id'] = current_context().session
  except:
    pass
  
  store_variables_snapshot(
  	data=stuff_to_snapshot, persistent=True
  	)
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---  
terms:
  - "advance written notice": |
      **Advance written notice** means they received a copy of the Petition for Order of Protection and Summons before the court hearing. These include the date and time of the court hearing.
---
# thought 1.4.64 Docassemble update made "mandatory: True" not required but oh well
mandatory: True
code: |
  dow_full = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']
  dow_abb = ['Sun.', 'Mon.', 'Tues.', 'Wed.', 'Thur.', 'Fri.', 'Sat.']
  set_days_of_week = True
---
id: welcome
question: |
  Order of Protection
subquestion: |
  Welcome to Illinois Legal Aid Online's **Order of Protection** Easy Form.

  This program makes forms that help you ask the court to order someone to stop harming or threatening you, your children, or other household members. The Order of Protection can also require the abuser to stay away from other protected people and locations.

  To learn more, read ILAO's article about [**Orders of Protection**](https://www.illinoislegalaid.org/node/29806).
  
  #### Your safety is important
  
  * If you are in immediate danger, call 911.
  * If you need to exit this program, click the red **Escape** button at the top of the screen.
  * Learn about [**safety while using the Internet**](https://www.thehotline.org/help/tech-social-media-safety/).
field: sees_nav_bar
---
id: instructions
continue button field: instructions
question: |
  Instructions
subquestion: |
  To use this program you will need to know: 

  * A safe mailing address where the court can contact you,
  * Information about people you want to protect,
  * Details about the abuser, including where they can be found,
  * Details about the abuse and when it happened,
  * What property and places you want to protect, and
  * Information about other court cases involving you and the abuser, if known.

  If you have children with the abuser, you also need to know:
  
  * School or daycare information, and
  * How you want the court to restrict parenting time, if any.

  Set aside 15 to 30 minutes to finish this program. You can login and save your work to return to later. 
 
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some pages have a question mark in a circle ${ fa_icon("question-circle", color_css="#0dcaf0" ) } that helps explain things.
---
template: help_example
subject: |
  **You can click sections like this to show more information.**
content: |  
  This is an example of help. Click again to hide.
---
id: whats next
continue button field: whats_next
question: |
  After you finish this program
subquestion: |
  After you download your ${ form_name } forms, you must file them with the court clerk's office. This program does not file your ${ form_name } forms for you.
  
  You can also download "How to ask for an Order of Protection" instructions at the end of this program. The instructions can guide you through filing your forms and going to court. 
---
template: get_legal_help
subject: |
  **What if I need legal advice?**
content: |  
  If you have questions or concerns about your legal problem and want legal advice you should talk to a lawyer.
  
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
id: who can be protected
continue button field: who_can_be_protected
question: |
  Who can get an Order of Protection
subquestion: |
  You can ask for an Order of Protection if you have been abused by a current or ex-romantic partner or a family or household member, such as a:
  
  * Current or ex-spouse,
  * Person with whom you live or used to live,
  * Parent of your child,
  * Relative by blood,
  * Related through a current or a prior marriage,
  * Relative of your child (includes relatives of your foster child, adopted child or prospective adopted child, or relatives of a child for whom you are the legally-appointed guardian or legally-appointed custodian), or
  * Caregiver for persons with disabilities.

  You can also ask for an Order of Protection if you are filing for any person who has been abused by a family or household member, but is unable to file on their own.
---
id: important op info
continue button field: important_op_info
question: |
  Things you should know
subquestion: |
  The person who caused the abuse is called **the Respondent**. In court, the judge will use this word to refer to the abuser. This program and the forms will do the same.

  **You will need to include an address where the Respondent can be found.** This is so the sheriff can deliver the court papers. Delivery of the court papers is called **service.** This might be where the Respondent lives, works, or a place where they stay. **Note: the Respondent will get a copy of all the court forms, except for the ones that are confidential like school or daycare location.**

  You will need to list an address on your court forms. **If you do not want the Respondent to know where you are staying, or if you do not have a home address, you can list a different safe mailing address where you will receive court documents.**

  **The Order of Protection is not valid until signed by a judge.** You must go to court, either in person or remotely, where a judge will decide whether or not to grant you an Order of Protection.
---
id: cook after hours option
continue button field: cook_after_hours
question: |
  Cook County after-hours court
subquestion: |
  **Cook County domestic violence courts have additional hours during nights and weekends**, excluding [**court holidays**](https://www.cookcountycourt.org/ABOUT-THE-COURT/Legal-Court-Holidays).
  
  Cook County after-hours court clerks and judges are available **only**:

  * Monday through Friday: 9:00 PM to 3:00 AM
  * Saturday and Sunday: 1:00 PM to 6:00 PM
  
  If you want to schedule a remote hearing during these limited hours, use the [**Emergency Order of Protection - Cook County Easy Form**](https://www.illinoislegalaid.org/node/176901) instead. Otherwise, click **Next** to continue making your forms.

---
id: in illinois
question: |
  Do you want to file for an Order of Protection in Illinois?
subquestion: |
  You can file in Illinois if:

  * You live in Illinois,
  * The person you are filing against lives in Illinois,
  * The abuse took place in Illinois, or
  * You are in Illinois to avoid abuse elsewhere.
fields:
  - no label: in_illinois
    datatype: yesnoradio
---
id: not in illinois
event: not_in_illinois
question: |
  Sorry
subquestion: |
  This program is only for people who want an Order of Protection in Illinois.
  
  You can use the [**Legal Services Corporation website**](https://www.lsc.gov/about-lsc/what-legal-aid/get-legal-help) to find a legal aid organization near you.
buttons:
  - Exit: exit
  - Restart: restart
---
id: county
continue button field: case_county
question: |
  In which county will you file your ${ form_name }?
subquestion: |
  You can file your case in the county:
  
  * Where you live,
  * Where the person who caused the abuse lives,
  * Where the abuse occurred, or
  * Where you are staying to avoid abuse.
fields:
  - no label: trial_court_index
    datatype: integer
    code: |
      court_county_lookup()
  - note: |
      ${ collapse_template(county_lookup_help) }  
---
template: county_lookup_help
subject: |
  **What if I need help finding the county?**
content: |  
    You can use this [**City-to-County Finder**](https://www.statsamerica.org/CityCountyFinder/) to find the county.
---
depends on:
  - trial_court_index
code: |
  trial_court = court_list.as_court('trial_court', trial_court_index)
---
code: |
  def court_county_lookup(lowercase=False):
    all_court_counties = court_list._load_courts()['address_county'].items()
    filtered_courts = [(-1, "cook")] if lowercase else [(-1, "Cook")]
    for court in all_court_counties:
      if court[1] != "Cook":
        court_name = court[1].lower() if lowercase else court[1]
        filtered_courts.append((court[0],court_name))
    return sorted( filtered_courts, key=lambda y: y[1])
---
depends on:
  - trial_court_index
code: |
  if trial_court_index == -1:
    trial_court = court_list.as_court('trial_court', 15)
    trial_court.address.county = "Cook"
  else:
    trial_court = court_list.as_court('trial_court', trial_court_index)
---
id: jurisdiction
#continue button field: jurisdiction
question: |
  Why do you want to file in ${ trial_court.address.county } County?
subquestion: |
  Check all that apply.
fields:
  - no label: jurisdiction_type
    datatype: checkboxes
    choices:
      - I live in ${ trial_court.address.county } County.: I live here
      - The person I am filing against lives in ${ trial_court.address.county } County.: Respondent lives here
      - The abuse took place in ${ trial_court.address.county } County.: Abuse was here
      - I am in ${ trial_court.address.county } County to avoid abuse elsewhere.: Abuse was elsewhere
---
id: not proper location
event: other_jurisdiction_location
question: |
  Sorry
subquestion: |
  You can file your case in the Illinois county:
  
  * Where you live,
  * Where the person who caused the abuse lives,
  * Where the abuse occurred, or
  * Where you are staying to avoid abuse.

  If Illinois is not the right place to ask for an Order of Protection, you can use the [**Legal Services Corporation website**](https://www.lsc.gov/about-lsc/what-legal-aid/get-legal-help) to find a legal aid organization near you.
buttons:
  - Exit: exit
  - Restart: restart
---
id: relationship
question: |
  How are you related to the person who caused the abuse?
subquestion: |
  If you are asking for an Order of Protection for someone other than yourself, select how **they** are related to the person who caused the abuse.
  
  You can check more than one.
fields:
  - I am their boyfriend, girlfriend, or romantic partner (including ex-).: relationship_bg
    datatype: yesnowide
  - We have children together and were never married.: relationship_cc
    datatype: yesnowide
  - We have or might have children together.: relationship_ac
    datatype: yesnowide
  - We are related through a current or past marriage.: relationship_ma
    help: |
      Select this if you are a spouse, ex-spouse, in-law, step-child, step-brother, step-sister, step-sibling, or other family member of the person who caused the abuse.
    datatype: yesnowide
  - I am their spouse.: relationship_se
    datatype: yesno
    show if: relationship_ma
  - I am their ex-spouse.: relationship_xs
    datatype: yesno
    show if: relationship_ma
  - I am their in-law.: relationship_il
    datatype: yesno
    show if: relationship_ma
  - I am their step child.: relationship_sc
    datatype: yesno
    show if: relationship_ma
  - I am their step brother, step sister, or step sibling.: relationship_ss
    datatype: yesno
    show if: relationship_ma
  - They are another family member.: relationship_ofm
    datatype: yesno
    show if: relationship_ma
  - We share or shared a living space.: relationship_cs
    datatype: yesnowide
    help: |
      Example: We share a common area like a kitchen. This would not apply if you just had apartments in the same building.
  - We are related through blood.: relationship_bl
    datatype: yesnowide
    help: |
      Select this if you are a child, parent, brother, sister, sibling, grandchild, grandparent, or other family member of the person who caused the abuse.
  - I am their child.: relationship_ch
    datatype: yesno
    show if: relationship_bl
  - I am their parent.: relationship_pa
    datatype: yesno
    show if: relationship_bl
  - I am their brother, sister, or sibling.: relationship_sb
    datatype: yesno
    show if: relationship_bl
  - I am their grandchild.: relationship_gc
    datatype: yesno
    show if: relationship_bl
  - I am their grandparent.: relationship_gp
    datatype: yesno
    show if: relationship_bl
  - They are another family member.: relationship_ofb
    datatype: yesno
    help: |
      Examples: Uncle, aunt, or cousin.
    show if: relationship_bl
  - We have a blood relationship through a child.: relationship_bk
    datatype: yesnowide
  - The abuser is a family or household member of my adopted, prospective adopted, or foster child.: relationship_a
    datatype: yesnowide
  - The abuser is a family or household member of a child that I am the legally-appointed guardian or custodian of.: relationship_l
    datatype: yesnowide
  - The abuser is my personal caregiver, and I am a high-risk adult with disabilities or otherwise need care.: relationship_pc
    datatype: yesnowide
    help: |
      A **high risk adult with disabilities** is a person aged 18 or over whose physical or mental disability keeps them from protecting themself from abuse, neglect, or exploitation.

validation code: |
  if relationship_ma:
    if relationship_se == True and relationship_cc == True:
      validation_error('You selected both "never married" and "related through marriage" (spouse). Please adjust your answers.', field="relationship_cc")
    if relationship_xs == True and relationship_cc == True:
      validation_error('You selected both "never married" and "related through marriage" (ex-spouse). Please adjust your answers.', field="relationship_cc")
---
# removed after relationship answers reworded
template: relationship_example
subject: |
  **Can I see some examples?**
content: |  
  If you want an Order of Protection against your mother, select **Child** because you are the child of that person.
  
  If you want an Order of Protection against the father of your foster child, select **Family or household member of my foster child**.
---
depends on:
  - relationship_bg
  - relationship_cc
  - relationship_ac
  - relationship_ma
  - relationship_se
  - relationship_xs
  - relationship_il
  - relationship_sc
  - relationship_ss
  - relationship_ofm
  - relationship_cs
  - relationship_bl
  - relationship_ch
  - relationship_pa
  - relationship_sb
  - relationship_gc
  - relationship_gp
  - relationship_ofb
  - relationship_bk
  - relationship_a
  - relationship_l
  - relationship_pc
code: |
  relationship_list = [
      relationship_bg,
      relationship_cc,
      relationship_ac,
      relationship_ma,
      relationship_se,
      relationship_xs,
      relationship_il,
      relationship_sc,
      relationship_ss,
      relationship_ofm,
      relationship_cs,
      relationship_bl,
      relationship_ch,
      relationship_pa,
      relationship_sb,
      relationship_gc,
      relationship_gp,
      relationship_ofb,
      relationship_bk,
      relationship_a,
      relationship_l,
      relationship_pc
  ]
  if any(relationship_list):
    has_required_relationship = True
  else:
    has_required_relationship = False
---
id: not proper relationship
event: other_relief
question: |
  Sorry
subquestion: |
  You can file for an Order of Protection only if the person you want protected has a qualifying relationship with the abuser.
  
  A Stalking No Contact Order might work better in your situation. Read ILAO's article about [**Getting a Stalking No Contact Order**](https://www.illinoislegalaid.org/node/30216) to learn more.
  
buttons:
  - Exit: exit
  - Restart: restart
---
id: petitioner name
sets:
    - users[0].name.first
    - users[0].name.last
    - users[0].name.middle
    - users[0].name.suffix
question:  |
  What is your name?
subquestion: |
  Enter your name, even if you are filing the Order of Protection on behalf of your family or household members. In court and on the forms, you will be listed as the **Petitioner**.
fields:
  - code: |
      users[0].name_fields()
---
id: respondent name
sets:
    - other_parties[0].name.first
    - other_parties[0].name.last
    - other_parties[0].name.middle
    - other_parties[0].name.suffix
question:  |
  Who is the person you want an Order of Protection against?
subquestion: |
  This person will be called the **Respondent** in court and on the forms.
fields:
  - code: |
      other_parties[0].name_fields()
---
id: know respondent birthdate
question: |
  Do you know ${other_parties[0].name.full(middle="full")}'s birthdate?
fields:   
  - no label: knows_respondent_dob
    datatype: radio
    choices:
      - Yes, I will enter the date.: exact
      - I know some of it.: some
        help: |
          For example, "June 3rd" or "Summer of 1990."
      - I don't know it.: idk
        help: |
          % if trial_court_index == -1:
          You can update the Cook County Sheriff's office when you have this information. Email them anytime at ccso.protectiveorders@ccsheriff.org or call them at 312-603-2134 or 312-603-3340 (Monday through Friday, 8AM to 5PM).
          % else:
          You may want to update the sheriff's office when you have this information.
          % endif
  - ${other_parties[0].name.full(middle="full")}'s date of birth: other_parties[0].birthdate
    datatype: ThreePartsDate
    alMax: ${ today().format("yyyy-MM-dd") }
    show if: 
      variable: knows_respondent_dob
      is: exact
  - What you know about ${other_parties[0].name.full(middle="full")}'s date of birth: other_parties[0].birthdate_info
    maxlength: 25
    show if:
      variable: knows_respondent_dob
      is: some
---
id: minor kids with respondent
question: |
  Do you have any minor children with ${other_parties[0].name.full(middle="full")}?
subquestion:
  Minor children are under 18.
field: minor_kids_with_respondent
choices:
  - Yes: True
  - No: False
---
# removing while debugging
#reconsider: True
#depends on: minor_kids_with_respondent
#code: |
#  if minor_kids_with_respondent == False:
#    protect_shared_kids = False
#  minor_kids_logic_check = True
#
---
depends on: minor_kids_with_respondent
id: protected parties
question: |
  Who do you want protected by this Order of Protection?
subquestion: |
  Check all that apply.
fields:
  - Me: protect_petitioner
    datatype: yesnowide
    default: True
  - Minor children I have with ${other_parties[0].name.full(middle="full")}: protect_shared_kids
    datatype: yesnowide
    help: |
      Check this if you want the order to protect your minor children you have with ${other_parties[0].name.full(middle="full")}.
    # removing this show if to accommodate adding minor children thru review, maybe revisit
    #show if:
    #  code: |
    #    minor_kids_with_respondent == True
  - My minor children I **did not** have with ${other_parties[0].name.full(middle="full")}: protect_petitioner_kids
    datatype: yesnowide
  - A dependent adult: protect_dependent_adult
    datatype: yesnowide
    help: |
      A **dependent adult** is an elder adult who can't protect themself from abuse by a family or household member.
  - A high risk adult with disabilities: protect_high_risk_adult
    datatype: yesnowide
    help: |
      A **high risk adult with disabilities** is a person aged 18 or over whose physical or mental disability keeps them from protecting themself from abuse, neglect, or exploitation.
  - Other household members: protect_other_hh_members
    datatype: yesnowide
    help: |
      **Other household members** include spouses, former spouses, parents, children, stepchildren and other persons related by blood or by present or prior marriage, persons who share or formerly shared a common dwelling, persons who have or allegedly have a child in common, persons who share or allegedly share a blood relationship through a child, persons who have or have had a dating or engagement relationship, persons with disabilities and their personal assistants, and caregivers. 
validation code: |
  if not (protect_petitioner or protect_shared_kids or protect_petitioner_kids or protect_dependent_adult or protect_high_risk_adult or protect_other_hh_members):
    validation_error("Please select at least one choice to continue.", field="protect_other_hh_members")
---
sets:
  - shared_kids[0].name.first
  - shared_kids[0].name.middle
  - shared_kids[0].name.last
  - shared_kids[0].name.suffix
id: name of first child with respondent
question: |
  Who is your minor child with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  The statewide Order of Protection forms have space for up to 4 minor children with the Respondent.
fields:
  - code: |
      shared_kids[0].name_fields()
---
id: names of other children with respondent
sets:
  - shared_kids[i].name.first
  - shared_kids[i].name.middle
  - shared_kids[i].name.last
  - shared_kids[i].name.suffix
question: |
  Who is your ${ ordinal(i) } minor child with ${other_parties[0].name.full(middle="full")}?
fields:
  - code: |
      shared_kids[i].name_fields()
---
id: any other children with respondent
question: |
  Do you have another minor child with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  The statewide Order of Protection forms have space for up to 4 minor children with the Respondent.
  % if len(shared_kids.elements) >= 1:  
  So far you have told us about ${comma_and_list(shared_kids.complete_elements().full_names())}.
  % endif
fields:
  - "Anyone else?": shared_kids.there_is_another
    datatype: yesnoradio
---
sets:
  - petitioner_kids[0].name.first
  - petitioner_kids[0].name.middle
  - petitioner_kids[0].name.last
  - petitioner_kids[0].name.suffix
id: name of first child not with respondent
question: |
  Who is your minor child **not with** ${other_parties[0].name.full(middle="full")} you want protected by this order?
subquestion: |
  If you want to include more than one, you can enter their names on following screens.
fields:
  - code: |
      petitioner_kids[0].name_fields()
---
id: names of other children not with respondent
sets:
  - petitioner_kids[i].name.first
  - petitioner_kids[i].name.middle
  - petitioner_kids[i].name.last
  - petitioner_kids[i].name.suffix
question: |
  Who is your ${ ordinal(i) } minor child **not with** ${other_parties[0].name.full(middle="full")}  you want protected by this order?
fields:
  - code: |
      petitioner_kids[i].name_fields()
---
id: any other children not with respondent
question: |
  Do you have another minor child **not with** ${other_parties[0].name.full(middle="full")} you want protected by this order?
subquestion: |
  % if len(petitioner_kids.elements) >= 1:  
  So far you have told us about ${comma_and_list(petitioner_kids.complete_elements().full_names())}.
  % endif
fields:
  - "Anyone else?": petitioner_kids.there_is_another
    datatype: yesnoradio
---
sets:
  - other_hh_members[0].name.first
  - other_hh_members[0].name.middle
  - other_hh_members[0].name.last
  - other_hh_members[0].name.suffix
id: name of first other household member
question: |
  Who is the household member you want protected by this order?
subquestion: |
  If you want to include more than one, you can enter their names on following screens.
fields:
  - code: |
      other_hh_members[0].name_fields()
---
id: names of other household members
sets:
  - other_hh_members[i].name.first
  - other_hh_members[i].name.middle
  - other_hh_members[i].name.last
  - other_hh_members[i].name.suffix
question: |
  Who is the ${ ordinal(i) } household member you want protected by this order?
fields:
  - code: |
      other_hh_members[i].name_fields()
---
id: any other household members
question: |
  Do you have another household member you want protected by this order?
subquestion: |
  % if len(other_hh_members.elements) >= 1:  
  So far you have told us about ${comma_and_list(other_hh_members.complete_elements().full_names())}.
  % endif
fields:
  - "Anyone else?": other_hh_members.there_is_another
    datatype: yesnoradio
---
id: minor child info
generic object: ALIndividual
question: |
  Tell us more about ${ x.name.full(middle="full")}
subquestion: |
  ${ collapse_template(minor_child_residence_help) }
fields:
  - Date of birth: x.birthdate
    datatype: date
    min: ${ (today() - date_interval(years=18)).format("yyyy-MM-dd") }
    max: ${ today().format("yyyy-MM-dd") }
  - State of residence (past 6 months): x.address.state
    help: |
      This is where the child currently lives.
    code: states_list()
  - Include as a protected person?: x.protect
    datatype: yesnoradio
    help: |
      Select **Yes** if you want the order to protect the child from ${other_parties[0].name.full(middle="full")}. 
---
template: minor_child_residence_help
subject: |
  **What if the child has not lived in the same state over the past 6 months?**
content: |  
  If ${ x.name.full(middle="full")} has not lived in Illinois or the state you select for the past 6 months, you may want to talk with a lawyer. There are laws that affect which state courts can settle things like child custody.
  
  Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate. You can also use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
code: |
  shared_kids[i].name.first
  shared_kids[i].birthdate
  shared_kids[i].complete = True
---
code: |
  if shared_kids.number_gathered() >= 4:
    shared_kids.there_is_another = False
---
sets:
  - dependent_adult.name.first
  - dependent_adult.name.middle
  - dependent_adult.name.last
  - dependent_adult.name.suffix
id: name of dependent adult
question: |
  Who is the dependent adult you want protected by this order?
fields:
  - code: |
      dependent_adult.name_fields()
---
sets:
  - high_risk_adult.name.first
  - high_risk_adult.name.middle
  - high_risk_adult.name.last
  - high_risk_adult.name.suffix
id: name of high risk adult
question: |
  Who is the high risk adult you want protected by this order?
fields:
  - code: |
      high_risk_adult.name_fields()
---
id: order type
question: |
  Which type of Order of Protection do you want against ${other_parties[0].name.full(middle="full")}?
subquestion: |
  You can ask for both.
  
  **Important:** It is easier to ask for both an Emergency and a Plenary Order of Protection now. If you change your mind later, it involves less paperwork.
fields:
  - Emergency: eop
    datatype: yesnowide
    default: True
    help: |
      **Emergency Order of Protection**

      * Judge can give this order on the same day you file, without notifying ${other_parties[0].name.full(middle="full")}
      * Lasts for 14 - 21 days
      * After ${other_parties[0].name.full(middle="full")} is served with court papers, you can ask for a long-term (Plenary) Order of Protection
  - Plenary: pop
    datatype: yesnowide
    help: |
      **Plenary (long-term) Order of Protection**
          
      * Judge can give this order on a later date, after ${other_parties[0].name.full(middle="full")} has been notified
      * Lasts for up to 2 years
      * ${other_parties[0].name.full(middle="full")} will have a chance to participate in the court case
validation code: |
  if not (eop or pop):
    validation_error("Please select at least one type of order to continue.", field="pop")

---
id: other ops
question: |
  Other Orders of Protection
subquestion: |
  Is there now, or has there ever been, an Order of Protection in any state against ${other_parties[0].name.full(middle="full")} involving you or other people you want to protect in this Order?
fields:
  - Other Orders of Protection?: has_other_ops
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - I don't know.: I don't know
---
id: other ops detail
question: |
  Tell us about the ${ ordinal(i) } Order of Protection
fields:
  - Names of people involved (separate by commas): other_ops[i].name.text
  - State: other_ops[i].state
    code: |
      states_list()
  - County: other_ops[i].county
  - Year: other_ops[i].year
    input type: combobox
    datatype: integer
    maxlength: 4
    min: ${ today().year-120 }
    max: ${ today().year }
    code: |
      reversed(range(today().year-120, today().year+1))
---
id: more ops
question: |
  Are there any more Orders of Protection you would like to list?
subquestion: |
  You can enter up to 9 Orders of Protection in total.
  % if len(other_ops.elements) == 1:  
  So far you told us about 1 other Order of Protection. 
  % else:
  So far you told us about ${ str(len(other_ops.elements)) } other Orders of Protection. 
  % endif
field: other_ops.there_is_another
choices:
  - Yes: True
  - No: False

---
code: |
  other_ops[i].name.text
  other_ops[i].state
  other_ops[i].county
  other_ops[i].year
  other_ops[i].complete = True
---
code: |
  if other_ops.number_gathered() >= 9:
    other_ops.there_is_another = False
---

id: other cases
question: |
  Other court cases with ${other_parties[0].name.full(middle="full")}
subquestion: |
  Are there now, or have there ever been, any other court cases (civil or criminal) involving ${other_parties[0].name.full(middle="full")} and you or other people you want to protect in this Order?
  
  Examples include:
  
  * Divorce
  * Custody
  * Child support
  * Paternity or parentage
  * Parenting time
  * Guardianship
  * Adoption
  * Abuse and neglect
  * Domestic battery
  * Violation of an Order of Protection.
  
  **Note:** do not include other Orders of Protection.
fields:
  - Other court cases?: has_other_cases
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - I don't know.: I don't know
---
id: other cases detail
question: |
  Tell us about the ${ ordinal(i) } court case
fields:
  - Type of court case: other_cases[i].name.text
    help: |
      Examples include:
      
      * Divorce
      * Custody
      * Child support
      * Paternity or parentage
      * Parenting time
      * Guardianship
      * Adoption
      * Abuse and neglect
      * Domestic battery
      * Violation of an Order of Protection.
  - State: other_cases[i].state
    code: |
      states_list()
  - County: other_cases[i].county
  - Year: other_cases[i].year
    input type: combobox
    datatype: integer
    maxlength: 4
    min: ${ today().year-120 }
    max: ${ today().year }
    code: |
      reversed(range(today().year-120, today().year+1))
---
id: more cases
question: |
  Are there any more court cases you would like to list?
subquestion: |
  You can enter up to 9 cases in total.
  % if len(other_cases.elements) == 1:  
  So far you told us about 1 other case. 
  % else:
  So far you told us about ${ str(len(other_cases.elements)) } other cases. 
  % endif
field: other_cases.there_is_another
choices:
  - Yes: True
  - No: False
---
code: |
  other_cases[i].state
  other_cases[i].county
  other_cases[i].year
  other_cases[i].complete = True
---
code: |
  if other_cases.number_gathered() >= 9:
    other_cases.there_is_another = False
---


---
id: incidents intro
continue button field: incidents_intro
question: |
  You can do this
subquestion: |
  It can be hard, but it is important to list the full history of abuse in your petition.

  Start with what happened **most recently**.

  Be sure to include the **most severe** abuse, even if it happened long ago.

  Explain **how the abuse affected you**, even if the abuse was emotional, verbal, financial, or controlling.

  You can include any past abuse and any criminal convictions that resulted.
---
id: incidents detail
question: |
  Tell us about another incident of abuse
subquestion: |
  Try to be specific about:
  
  * What ${other_parties[0].name.full(middle="full")} did,
  * What ${other_parties[0].name.full(middle="full")} said,
  * Where the abuse happened,
  * How the abuse happened, such as in person, by phone or text, etc.,
  * Who was there when the abuse happened, and
  * The effects the abuse had on you, other survivors, and anyone else who was there. It is important to mention any children that were present or were affected by the abuse.
  
  Include any threats or use of a weapon.
  
  For repeated abuse, include the date and time of the most recent incident. You can add things like "weekly" or "anytime I work late" if it applies. 

fields:
  - Date (month and year): incidents[i].date
    maxlength: 20
    help: |
      If you don't remember the exact date, enter the month and year. Use abbreviations if needed.
  - Time: incidents[i].time
    maxlength: 20
    help: |
      If you don't remember the exact time, enter "morning" or "afternoon" or "night." Use abbreviations if needed.
  - What happened: incidents[i].name.text
    input type: area
    rows: 18
    maxlength: 800
    help: |
      The petition has space for about 800 characters including spaces for each incident.
---
id: first incident detail
question: |
  Tell us about the most recent incident of abuse
subquestion: |
  Try to be specific about:
  
  * What ${other_parties[0].name.full(middle="full")} did,
  * What ${other_parties[0].name.full(middle="full")} said,
  * Where the abuse happened,
  * How the abuse happened, such as in person, by phone or text, etc.,
  * Who was there when the abuse happened, and
  * The effects the abuse had on you, other survivors, and anyone else who was there. It is important to mention any children that were present or were affected by the abuse.
  
  Include any threats or use of a weapon.
  
  For repeated abuse, include the date and time of the most recent incident. You can add things like "weekly" or "anytime I work late" if it applies. 

fields:
  - Date (month and year): incidents[0].date
    maxlength: 20
    help: |
      If you don't remember the exact date, enter the month and year. Use abbreviations if needed.
  - Time: incidents[0].time
    maxlength: 20
    help: |
      If you don't remember the exact time, enter "morning" or "afternoon" or "night." Use abbreviations if needed.
  - What happened: incidents[0].name.text
    input type: area
    rows: 18
    maxlength: 800
    help: |
      The petition has space for about 800 characters including spaces for each incident.
---
template: incidents_help
subject: |
  **What if I don't remember the date and time?**
content: |  
  If you don't remember the exact date, enter the month or season and year.  

  If you don't remember the exact time, enter "morning" or "afternoon" or "night."
---
id: more incidents
question: |
  Are there any more incidents of abuse you would like to list?
subquestion: |
  You can enter up to 9 incidents in total.
  % if len(incidents.elements) == 1:  
  So far you told us about 1 incident. 
  % else:
  So far you told us about ${ str(len(incidents.elements)) } incidents. 
  % endif
field: incidents.there_is_another
choices:
  - Yes: True
  - No: False
---
code: |
  incidents[i].date
  incidents[i].time
  incidents[i].name.text
  incidents[i].complete = True
---
code: |
  if incidents.number_gathered() >= 9:
    incidents.there_is_another = False
---
id: no abuse
question: |
  What do you want the court to order ${other_parties[0].name.full(middle="full")} to not do?
subquestion: |
  This includes ordering ${other_parties[0].name.full(middle="full")} to not to threaten to do these things.

  Check as many as you want, even if ${other_parties[0].name.full(middle="full")} has not done this before.
fields:
  - Harassment: no_harassment
    datatype: yesnowide
    help: |
      **Harassment** means doing something that is unreasonable, that would cause most people to be upset, and causes this particular person to be upset.
      
      Examples of harassment include:
      
      * Name calling or yelling
      * Threatening to hurt you, other people, animals, or property
      * Constantly contacting you through phone calls, text messages, social media messages, or emails
      * Threating to commit suicide
      * Sharing personal images without your permission
      * Stalking or following you
  - Physical abuse: no_physical
    datatype: yesnowide
    help: |
      **Physical abuse** means physically hurting someone, sexually abusing or assaulting them, keeping them from leaving, forcing them to stay awake when they want to sleep, and putting them at risk by acting recklessly.
      
      Examples of physical abuse include:
      
      * Slapping, punching, kicking, strangling (choking)
      * Pushing, pulling, shaking
      * Pulling hair, pinching, poking, biting
      * Rape (even between married parties), sexual assault, or sexual abuse
      * Use of guns, knives, or other weapons
  - Stalking: no_stalking
    datatype: yesnowide
    help: |
      **Stalking** means following or monitoring someone without a good reason at least 2 separate times, or following or monitoring someone while also:
      
      * Making threats to harm, sexually assault, or keep a person from leaving against their will; or threatening to do these things to a family member, or
      * Making a person concerned that they will be harmed, sexually assaulted, or kept from leaving against their will; or concerned that these things will be done to their family member.
      
      Examples of stalking include:
      
       * Following you multiple times 
       * Sitting/waiting outside of your residence or job and threatening to hurt you
  - Willful deprivation: no_willful
    datatype: yesnowide
    help: |
      **Willful deprivation** means not giving someone the medicine, medical care, shelter, food, medical items, or other physical help that they need because of their age, health issues, or disability; meaning that they might be physically, mentally, or emotionally harmed as a result.
      
      Examples of willful deprivation include:
      
      * Not giving an elderly family member who you care for their medicine
      * Not feeding your child
  - Intimidation of a dependent: no_intimidation
    datatype: yesnowide
    help: |
      **Intimidation of a dependent** means physically harming someone or physically stopping them from leaving in front of someone who is their dependent because of their age, poor health or disability; or making the dependent help with their abuse.
      
      An example of intimidation of a dependent is hitting someone in front of their child.
  - Exploitation of a high-risk adult with disabilities: no_exploitation
    datatype: yesnowide
    help: |
      **Exploitation** means stealing from someone who is considered a high-risk adult with disabilities. This is illegal and often harmful. It includes doing things like lying to someone so that they give you money, or pressuring someone who trusts you to spend their money on something you want.

  - Neglect of a high-risk adult with disabilities: no_neglect
    datatype: yesnowide
    help: |
      **Neglect** means not protecting a high-risk adult with disabilities in the way that most people would. It includes:
      
      * Not protecting them from abuse,
      * Holding them against their will or not letting them leave or move around enough,. 
      * Not providing things they need to survive, like food, shelter, clothes, and baths,    
      * Not providing the medical or mental health care they need, or   
      * Not protecting them from health and safety hazards.
      
  - Interference with personal liberty: no_interference
    datatype: yesnowide
    help: |
      **Interference with personal liberty** means stopping someone from doing something they want to do, or forcing someone to do something they do not want to do, by doing or threating to do any of these things: physical abuse, harassment, intimidation or willful deprivation.
      
      Examples of interference with personal liberty include:
      
      * Preventing you from using the phone
      * Preventing you from leaving the house or car
      * Stealing or breaking a cell phone
---
id: stay away
question: |
  Do you want the court to order ${other_parties[0].name.full(middle="full")} to stay away and not communicate with people protected by this order?
subquestion: |
  * If ordered to **stay away** from people protected by the order, ${other_parties[0].name.full(middle="full")} must not have any physical, non-physical, direct or indirect contact with protected people.
  * If ordered to **not communicate** with people protected by the order, communication includes oral communication, written communication, sign language, telephone and cell phone calls, faxes, texts, tweets, emails, posts, or communication by any other social media, and all other communication with protected people. This also includes contact or communication through others who may not know about the Order of Protection.
  
  Check all that apply.
fields:
  - Stay away at all times: stay_away
    datatype: yesnowide
# removed stay away distance per SME feedback. leaving blank on form
#  - How far do you want ${other_parties[0].name.full(middle="full")} to stay away, in feet? (optional): stay_away_distance
#    datatype: integer
#    required: False
#    show if: 
#      variable: stay_away
#      is: True
#    help: |
#      A car is about 15 feet long, and a basketball court is about 90 feet long.
  - No communication: no_communication
    datatype: yesnowide
---
id: no stay under influence
question: |
  Do you want the court to order ${other_parties[0].name.full(middle="full")} to stay away from and not be at your residence while under the influence?
subquestion: |
  Select **Yes** if when ${other_parties[0].name.full(middle="full")} is under the influence of drugs or alcohol, they are a threat to you or your children.
fields:
  - No entry or presence while under the influence: no_stay_under_influence
    datatype: yesnoradio

---
id: hide address
question: |
  Do you want to keep your address hidden?
subquestion: |
  You do not need to list where you are staying on your court papers. You can use an address where you can receive court notices instead.
field: hide_address
choices:
  - Yes: True
  - No: False
---
id: get address
question: |
  % if hide_address:
  What is your mailing address?
  % else:
  What is your home address?
  % endif
subquestion: |
  % if hide_address:
  **This address will appear on your court papers.** You may receive court notices and documents about your case at this address.
  % else:
  **This address will appear on your court papers.** If you do not want this, click **Back** to keep your address hidden.
  % endif
fields:
  - Street address: users[0].address.address
    address autocomplete: True
  - Address line 2: users[0].address.unit
    required: False
  - City: users[0].address.city
  - State: users[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: users[0].address.zip
---
id: residence remedies
question: |
  What do you want the court to order about where you are living?
subquestion: |
  This does not affect who owns the property, only who gets to use or occupy it.
  
fields:
  - no label: residence_remedies
    datatype: radio
    choices:
    - I want **exclusive possession** of the residence. This means ${other_parties[0].name.full(middle="full")} should not be allowed to enter or stay there.: exclusive possession
    - I want ${other_parties[0].name.full(middle="full")} to **provide a different place** for me and the protected people to live because we share a residence.: provide alternate housing
    - None of the above: none

---
id: exclusive possession reason
question: |
  Why should the court give you exclusive possession of your residence?
field: exclusive_possession_reason
choices:
  - I have a right to occupy the residence and ${other_parties[0].name.full(middle="full")} has no right.: respondent_no_right_to_stay
  - Both of us have a right to occupy the residence, but it would be harder on me or any of my children or dependents to leave.: both_parties_right_to_stay

---
id: respondent info
question: |
  What are ${other_parties[0].name.full(middle="full")}'s phone number and email address?
subquestion: |
  If you do not know, leave these blank.
fields:
  - Phone: other_parties[0].phone_number
    datatype: al_international_phone
    required: False
  - Cell phone: other_parties[0].mobile_number
    datatype: al_international_phone
    required: False
    show if: 
      code: |
        trial_court_index == -1
  - Email address: other_parties[0].email    
    datatype: email
    required: False
---
id: respondent social media
question: |
  Is ${other_parties[0].name.full(middle="full")} active on social media?
subquestion: |
  If you know about ${other_parties[0].name.full(middle="full")}'s accounts, this could help the sheriff find them.
  
  This information **will not** appear on public court documents.
fields:
  - Active on social media?: respondent_on_social_media
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - I don't know.: I don't know.
  - List their accounts: respondent_social_media_accounts
    input type: area
    rows: 5
    maxlength: 180
    help: |
      Enter as much information as you can including app, website, and username if you know it.
    show if:
      variable: respondent_on_social_media
      is: 'Yes'
---
id: respondent home address question
question: |
  Do you know ${other_parties[0].name.full(middle="full")}'s current home address?
subquestion: |
  If you do not know the current address, you can enter their last known address, if known.
fields:
  - no label: knows_respondent_home
    datatype: yesnoradio
---
# removed because alt service address logic coded around knows_respondent_home_last
#depends on: knows_respondent_home
#code: |
#  if knows_respondent_home == True:
#    knows_respondent_home_last = False
---
id: respondent last known address
question: |
  Do you know ${other_parties[0].name.full(middle="full")}'s last known address?
fields:
  - no label: knows_respondent_home_last
    datatype: yesnoradio
---
id: respondent address
question: |
  % if knows_respondent_home:
  What is ${other_parties[0].name.full(middle="full")}'s current home address?
  % else:
  What is ${other_parties[0].name.full(middle="full")}'s last known address?
  % endif
fields:
  - Street address: other_parties[0].address.address
    address autocomplete: True
  - Address line 2: other_parties[0].address.unit
    required: False
  - City: other_parties[0].address.city
  - State: other_parties[0].address.state
    code: |
      states_list()
  - ZIP code: other_parties[0].address.zip
    required: False
---
id: respondent work question
question: |
  Do you know ${other_parties[0].name.full(middle="full")}'s work information?
subquestions: |
  If ${other_parties[0].name.full(middle="full")} is currently unemployed, you can select **No**.
fields:
  - Know ${other_parties[0].name.full(middle="full")}'s work info?: knows_respondent_work
    datatype: yesnoradio
---
id: respondent work info
question: |
  Tell us about ${other_parties[0].name.full(middle="full")}'s job
subquestion: |
fields:
  - Employer or company: other_parties[0].employer
  - Occupation or type of work: respondent_work_type
    required: false
    help: |
      Describe their position, job title, or role where they work. Examples: Manager, cook, cashier
    maxlength: 30
    show if: 
      code: |
        trial_court_index == -1
  - Work days and hours: other_parties[0].work_hours
    required: False
    help: |
      If you don't know the exact days and hours, you can say something like "weekdays" or "nights."
    maxlength: 25
  - Street address: other_parties[0].work_address.address
    address autocomplete: True
  - Address line 2: other_parties[0].work_address.unit
    required: False
  - City: other_parties[0].work_address.city
  - State: other_parties[0].work_address.state
    code: |
      states_list()
  - ZIP code: other_parties[0].work_address.zip
---
id: stay away work question
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to stay away from where you work?
subquestion: |
  The statewide Order of Protection forms have space for up to 2 places of employment.
  
  If you do not want to list where you work on your court papers, you can hide it on the next screen.
fields:
  - no label: stay_away_jobs
    datatype: yesnoradio
---
id: hide work address
question: |
  Do you want to keep your work address hidden?
subquestion: |
  You do not need to list where you work on your court papers. If you select **Yes**, your workplace will be listed as, "Wherever protected party may be employed."
field: hide_work_address
choices:
  - Yes: True
  - No: False
---
id: stay away work info
question: |
  % if i==0:
  Tell us about your job
  % else:
  Tell us about your other job
  % endif
subquestion: |  
  **This address will appear on your court papers.** If you do not want this, click **Back** to keep your work address hidden.

fields:
  - Employer or company: jobs[i].employer
  - Street address: jobs[i].address
    address autocomplete: True
  - Address line 2: jobs[i].unit
    required: False
  - City: jobs[i].city
  - State: jobs[i].state
    code: |
      states_list()
  - ZIP code: jobs[i].zip
---
id: another stay away job
question: |
  Do you have another job you want ${other_parties[0].name.full(middle="full")} to stay away from?
fields:
  - no label: stay_away_jobs_2
    datatype: yesnoradio
---
id: stay away school question
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to stay away from any schools, kindergartens, or daycare centers?
subquestion: |
  The statewide Order of Protection forms have space for up to 2 schools or daycares.
  
  **Note:** You can keep the name and address of these schools confidential if your children attend them.
fields:
  - no label: stay_away_schools
    datatype: yesnoradio
---
id: stay away school info
question: |
  % if i==0:
  Tell us about the school, kindergarten, or daycare
  % else:
  Tell us about the other school, kindergarten, or daycare
  % endif
subquestion: |  
  % if minor_kids_with_respondent or protect_petitioner_kids:
  If you do not want this information on your court forms, which can be seen by ${ other_parties[0].name.full(middle="full") }, check **Yes** to the **Hide this information** question below.
  % endif
fields:
  - School or daycare name: schools[i].name
  - Street address: schools[i].address
    address autocomplete: True
  - Address line 2: schools[i].unit
    required: False
  - City: schools[i].city
  - State: schools[i].state
    code: |
      states_list()
  - ZIP code: schools[i].zip
  - Hide this information from ${ other_parties[0].name.full(middle="full") }?: schools[i].hide
    datatype: yesnoradio
    show if: 
      code: |
        minor_kids_with_respondent or protect_petitioner_kids
    help: |
      If you hide this information, it will not be listed on your Petition. You will get a confidential form that you will file with the court clerk.
---
id: another stay away school
question: |
  Do you have another school or daycare you want ${other_parties[0].name.full(middle="full")} to stay away from?
subquestion: |
  So far you entered: ${ schools[0].name }

  **Note:** If you need to list more than 2 schools or daycares, you can add them as "other places" you want ${other_parties[0].name.full(middle="full")} to stay away from.
fields:
  - no label: stay_away_schools_2
    datatype: yesnoradio
---
# this depends on doesn't seem to be triggering on name change. hoping it would for kids_who_attend
depends on:
  - shared_kids[i].name
  - shared_kids[i].name.middle
  - shared_kids[i].name.last
  - shared_kids[i].name.suffix
reconsider: True
code: |
  minor_kids_list = []
  if minor_kids_with_respondent:
    if shared_kids.number() > 0:
      for person in shared_kids:
        minor_kids_list.append( {person.name.full(middle="full"): person.name.full(middle="full") } )
  if protect_petitioner_kids:
    if petitioner_kids.number() > 0:
      for person in petitioner_kids:
        minor_kids_list.append( {person.name.full(middle="full"): person.name.full(middle="full") } )
---
id: confidential school details
question: |
  Details about ${ schools[i].name }
fields:
  - Is ${ schools[i].name } a school or a daycare?: schools[i].type
    datatype: radio
    choices:
      - School: school
      - Daycare: daycare
  - Children who attend ${ schools[i].name}: schools[i].kids_who_attend
    datatype: checkboxes
    none of the above: False
    code: minor_kids_list
    show if:
      code: |
        minor_kids_with_respondent == True or protect_petitioner_kids == True
        #shared_kids.number() > 0 or protect_petitioner_kids == True
---
id: stay away other location question
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to stay away from other places?
subquestion: |
  The statewide Order of Protection forms have space for up to 2 other places.
fields:
  - no label: stay_away_other
    datatype: yesnoradio
---
id: hide other location 1
question: |
  Do you want to hide the address of this location?
subquestion: |
  You do not need to list the exact location or address on your court papers. If you select **Yes**, you can enter a general description of the place.
field: hide_other_address_1
choices:
  - Yes: True
  - No: False
---
id: hide other location 2
question: |
  Do you want to hide the address of this second location?
subquestion: |
  You do not need to list the exact location or address on your court papers. If you select **Yes**, you can enter a general description of the place.
field: hide_other_address_2
choices:
  - Yes: True
  - No: False
---
id: stay away other location 1 name
question: |
  Tell us about the place you want ${other_parties[0].name.full(middle="full")} to stay away from
subquestion: |
  This description will appear on your court papers.
fields:
  - Description: other_locations_hidden_description_1
---
id: stay away other location 2 name
question: |
  Tell us about the second place you want ${other_parties[0].name.full(middle="full")} to stay away from
subquestion: |
  This description will appear on your court papers.
fields:
  - Description: other_locations_hidden_description_2

---
id: stay away other location info
question: |
  % if i==0:
  Tell us about the place you want ${other_parties[0].name.full(middle="full")} to stay away from
  % else:
  Tell us about the second place you want ${other_parties[0].name.full(middle="full")} to stay away from
  % endif
subquestion: |
  **This address will appear on your court papers.** If you do not want this, click **Back** to keep this address hidden.
fields:
  - Name: other_locations[i].name
  - Street address: other_locations[i].address
    address autocomplete: True
  - Address line 2: other_locations[i].unit
    required: False
  - City: other_locations[i].city
  - State: other_locations[i].state
    code: |
      states_list()
  - ZIP code: other_locations[i].zip
---
id: another stay away location
question: |
  Do you have another place you want ${other_parties[0].name.full(middle="full")} to stay away from?
fields:
  - no label: stay_away_other_2
    datatype: yesnoradio
---
id: attend same school
question: |
  Does ${other_parties[0].name.full(middle="full")} attend the same school as you or any of the people you want to protect?
fields:
  - no label: same_school
    datatype: yesnoradio
---
id: school restrictions
question: |
  What should the court order ${other_parties[0].name.full(middle="full")} to do at the school?
fields:
  - no label: same_school_restrictions
    datatype: radio
    choices:
      - ${other_parties[0].name.full(middle="full")} should not attend the school while I or other protected people are enrolled there.: not attend
      - ${other_parties[0].name.full(middle="full")} should change their placement or program at the school, as determined by the public school district or private school.: change program
      - ${other_parties[0].name.full(middle="full")} should not be present in certain parts of the school.: not present in parts
        help: |
          If you select this, you can list the parts of the school where ${other_parties[0].name.full(middle="full")} should not go.
      - I don't want the court to order any school restrictions on ${other_parties[0].name.full(middle="full")}.: none
  - Parts of the school where ${other_parties[0].name.full(middle="full")} should not go: parts_of_school
    input type: area
    rows: 3
    maxlength: 150  
    show if: 
      variable: same_school_restrictions
      is: "not present in parts"
      
---
id: same school name
question: |
  What is the name of the school ${other_parties[0].name.full(middle="full")} attends?
subquestion: |
  This can be an elementary, middle, or high school. 
fields:
  - School name: same_school_name
    maxlength: 50

---
id: minor respondent parents help
question: |
  Do you want ${other_parties[0].name.full(middle="full")}'s parent or guardian to help them follow the Order of Protection?
subquestion: |
  You can ask for this if you know or think ${other_parties[0].name.full(middle="full")} is under age 18.
fields:
  - no label: respondent_parent_help
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - Does not apply: dna

---
id: minor respondent parent info
question: |
  Requirements for ${other_parties[0].name.full(middle="full")}'s parent or guardian
fields:
  - Parent or guardian name: respondent_parent_name
    maxlength: 60
    required: False
  - What should ${other_parties[0].name.full(middle="full")}'s parent or guardian be ordered to do?: respondent_parent_order
    input type: area
    rows: 3
    maxlength: 150

---
id: request counseling for respondent
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to get counseling?
subquestion: |
  The court can order evaluation and treatment only after ${other_parties[0].name.full(middle="full")} has received written notice or attended the court hearing where this is decided.

  ${ collapse_template(counseling_help) }  
fields:
  - no label: request_counseling
    datatype: yesnoradio
---
template: counseling_help
subject: |
  **What kinds of counseling are available?**
content: |  
  The court can order:
  
  * Domestic violence partner abuse counseling,
  * An Alcohol and substance abuse evaluation and counseling,
  * A Mental health evaluation and counseling, and
  * Other counseling that may be appropriate.
---
id: counseling types
question: |
  What kinds of counseling do you want the court to order ${other_parties[0].name.full(middle="full")} to participate in and complete?
subquestion: |
  The court can order evaluation and treatment only after ${other_parties[0].name.full(middle="full")} has received **{advance written notice}** or attended the court hearing where this is decided.
  
  Check all that apply.
fields:
  - Domestic violence partner abuse counseling: dv_counseling
    datatype: yesnowide
  - Alcohol and substance abuse evaluation and counseling: alcohol_counseling
    datatype: yesnowide
  - Mental health evaluation and counseling: mental_health_counseling 
    datatype: yesnowide
  - Other counseling: other_counseling
    datatype: yesnowide
  - Other counseling ${other_parties[0].name.full(middle="full")} should complete: other_counseling_text
    input type: area
    rows: 3
    maxlength: 150
    show if: other_counseling

---
id: parentage established question
question: |
  Has legal parentage of your minor children with ${other_parties[0].name.full(middle="full")} been established?
subquestion: |
  Parentage can be established in a few ways.
  
  Children who were born before, during or within 300 days after the marriage, are considered legal children of the married couple.
  
  If the parents are not married, parentage can be established by the following:  
  
  * Both parents can sign a Voluntary Acknowledgment of Paternity, also called a VAP, that must be filed with the appropriate state agency,
  * A court or administrative order can establish parentage, or
  * In rare cases, another legal process can established parentage.
fields:
  - no label: parentage
    datatype: radio
    choices:
      - Yes, the children were born before, during, or within 300 days of our marriage.: parentage_established_by_marriage
      - Yes, we are not married but parentage was established. I will explain on the next screen.: parentage_established_other
      - No, we are not married and parentage has not been established.: parentage_not_established
---
id: parentage method
question: |
  How was legal parentage of your minor children with ${other_parties[0].name.full(middle="full")} established?
subquestion: |
  Check all that apply.
fields:
  - We signed and filed a Voluntary Acknowledgment of Paternity, also called a VAP.: parentage_vap 
    datatype: yesnowide
  - A court or administrative order established us as the legal parents of the children.: parentage_order 
    datatype: yesnowide
  - Legal parentage was established another way. I will explain below.: parentage_other
    datatype: yesnowide
  - Other parentage method: other_parentage_method
    input type: area
    rows: 3
    maxlength: 150
    show if: parentage_other
---
id: primary caretaker
question: |
  Who is the primary caretaker of the children with ${other_parties[0].name.full(middle="full")}?
fields:
  - no label: primary_caretaker
    datatype: radio
    choices:
      - I am.: petitioner
      - ${other_parties[0].name.full(middle="full")} is.: respondent
      - Another person is the primary caretaker of the children with ${other_parties[0].name.full(middle="full")}.: other
---
sets:
  - other_caretaker.name.first
  - other_caretaker.name.middle
  - other_caretaker.name.last
  - other_caretaker.name.suffix
id: other caretaker name
question: |
  Who is the primary caretaker of the children with ${other_parties[0].name.full(middle="full")}?
fields:
  - code: |
      other_caretaker.name_fields()
---
id: other caretaker address
question: | 
  What is ${ other_caretaker.name.full(middle="full") }'s address?
subquestion: |
  **This address will appear on your court papers.** Do not list a location you want to keep hidden from ${other_parties[0].name.full(middle="full")}.
fields:
  - Street address: other_caretaker.address.address
    address autocomplete: True
  - Address line 2: other_caretaker.address.unit
    required: False
  - City: other_caretaker.address.city
  - State: other_caretaker.address.state
    code: |
      states_list()
  - ZIP code: other_caretaker.address.zip
---
id: temporary custody
question: |
  Do you want the court to grant you temporary decision-making responsibility of the children you have with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  This used to be called "custody" in Illinois.
  
  Notes:
  
  * This is not the same as primary decision-making responsibility.
  * The court can order this only after ${other_parties[0].name.full(middle="full")} received **{advance written notice}** or attended the court hearing where this is decided.

fields:
  - no label: temp_custody_of_children
    datatype: yesnoradio
---
id: physical care and possession of children
question: |
  Do you want the court to grant you physical care and possession of the children you have with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  This means the children would live with you on a day-to-day basis.

  **Note:** This is **not** the same as primary decision-making responsibility, or what used to be called "custody" in Illinois. Having physical care and possession of the children just means the children would live with you.
fields:
  - no label: physical_care_of_children
    datatype: yesnoradio
---
id: concealment of children
question: |
  Do you want the court to order that ${other_parties[0].name.full(middle="full")} cannot hide or remove the children from Illinois?
subquestion: |
  You may want this if ${other_parties[0].name.full(middle="full")} has made threats or attempts to unlawfully remove the children.
fields:
  - no label: no_conceal_children
    datatype: yesnoradio    
---
id: no removal of children from petitioner or school
question: |
  Do you want the court to order that ${other_parties[0].name.full(middle="full")} cannot remove the children from your care or from a school or daycare?
subquestion: |
  You can keep the name and location of the school or daycare hidden from ${other_parties[0].name.full(middle="full")}.

  If you want to change confidential schools, edit information about schools in [**Protections**](${ url_action('section_protections') }) section.
fields:
  - no label: no_removal_school
    datatype: yesnoradio    
---
# redundant question - using hide schools option
id: confidential schools
question: |
  Do you want the court to keep the school or daycare information confidential?
subquestion: |
  % if len(schools.elements) == 2: 

  % if schools[0].hide and schools[1].hide:
  You are listing ${schools[0].name} and ${ schools[1].name } as confidential. 
  % elif schools[0].hide and schools[1].hide == False:
  You are listing ${schools[0].name} as confidential.
  % elif schools[0].hide == False and schools[1].hide == False:
  You have not listed any school locations as confidential.
  % endif
  
  % elif len(schools.elements) == 1: 
  
  % if schools[0].hide:
  You are listing ${schools[0].name} as confidential.
  % else:
  You have not listed any school locations as confidential.
  % endif
  
  % else:
  You have not listed any school locations as confidential.
  % endif

  If you want to change confidential schools, edit information about schools in [**Protections**](${ url_action('section_protections') }) section.
fields:
  - no label: keep_schools_confidential
    datatype: yesnoradio    
---
id: have current possession of children
question: |
  Do you currently have physical care and possession of your children with  ${other_parties[0].name.full(middle="full")}?
subquestion: |
  If the children are not with you now, the court can order ${other_parties[0].name.full(middle="full")} to return them to you, to another person, or to bring the children to court.
fields:
  - no label: current_possession_of_children
    datatype: yesnoradio
---
id: know children return details
question: |
  Do you know where and when you want ${other_parties[0].name.full(middle="full")} to return the children to
  % if return_children_to == "petitioner":
   you?
  % else:
   ${ return_children_other_person.name.full(middle="full") }?
  % endif
fields:
  - no label: knows_return_children_details
    datatype: yesnoradio
---
id: children returned to whom
question: |
  Who should ${other_parties[0].name.full(middle="full")} return the children to?
fields:
  - no label: return_children_to
    datatype: radio
    choices:
      - ${other_parties[0].name.full(middle="full")} should return the children to me.: petitioner
      - ${other_parties[0].name.full(middle="full")} should return the children to someone else.: other
      - ${other_parties[0].name.full(middle="full")} should bring the children to court. This is usually 14 to 21 days after you file your petition.: court
  - note: |
      Enter the name of the person ${other_parties[0].name.full(middle="full")} should return the children to. 
    show if:
      variable: return_children_to
      is: "other"
  - First: return_children_other_person.name.first
    show if:
      variable: return_children_to
      is: "other"
  - Middle: return_children_other_person.name.middle
    required: False
    show if:
      variable: return_children_to
      is: "other"
  - Last: return_children_other_person.name.last
    show if:
      variable: return_children_to
      is: "other"
  - Suffix: return_children_other_person.name.suffix
    required: False
    code: |
      name_suffix()
    show if:
      variable: return_children_to
      is: "other"
---
id: children return location
question: |
  Where should ${other_parties[0].name.full(middle="full")} return the children to?
subquestion: |
  On the next screen you can enter more information about when the children should be returned and if anyone else should be present.
  
  **This address will appear on your court papers.** Do not list a location you want to keep hidden from ${other_parties[0].name.full(middle="full")}.  
fields:
  - Street address: return_children_location.address
    address autocomplete: True
  - Address line 2: return_children_location.unit
    required: False
  - City: return_children_location.city
  - State: return_children_location.state
    code: |
      states_list()
  - ZIP code: return_children_location.zip
    required: False
---
id: children return details
question: |
  Details about return of children
subquestion: |
  Enter additional information about when you want ${other_parties[0].name.full(middle="full")} to return the children to
  % if return_children_to == "petitioner":
   you.
  % else:
   ${ return_children_other_person.name.full(middle="full") }.
  % endif
fields:
  - ${other_parties[0].name.full(middle="full")} should return the children to ${return_children_location.on_one_line(bare=True)}: on_or_by
    datatype: radio
    choices:
      - On (exact date and time): on
      - By (any time before): by
  - Date: return_children_date
    datatype: date
    min: ${ today().format("yyyy-MM-dd") }
  - Time: return_children_time
    datatype: time
  - Should someone else be present?: return_children_present
    datatype: yesnoradio
  - Name of person or law enforcement agency: return_children_present_name
    maxlength: 60
    show if:
      variable: return_children_present
      is: True

---
id: reason respondent should bring childrent to court
question: |
  Why should ${other_parties[0].name.full(middle="full")} be ordered to bring the children to court?
subquestion: |
  Check all that apply.
fields:
  - To prevent abuse, neglect, removal, or concealment of the children: appear_with_children_prevent
    datatype: yesnowide
  - To return the children to you: appear_with_children_return
    datatype: yesnowide
  - To permit a court-ordered interview or examination of the children or of ${other_parties[0].name.full(middle="full")}: appear_with_children_exam
    datatype: yesnowide
---
id: childrens records
question: |
  Do you want the court to prevent ${other_parties[0].name.full(middle="full")} from accessing your children's records?
subquestion: |
  These include school records, health care records, or any other records. The records may have address and contact information you want to keep hidden from ${other_parties[0].name.full(middle="full")}.

  If you want to deny ${other_parties[0].name.full(middle="full")} accessing to your children's records, select the reasons why. Check all that apply.
fields:
  - Yes. I am requesting that ${other_parties[0].name.full(middle="full")} not be allowed to have contact with the minor children.: no_records_no_contact
    help: |
      Select this if you asked the court to prevent ${other_parties[0].name.full(middle="full")} from having any contact with the children.
    datatype: yesnowide
  - Yes. My address is not included on the court forms to avoid further abuse.: no_records_hide_address
    help: |
      Select this if you are hiding your home address.
    datatype: yesnowide
  - Yes. It is necessary to prevent abuse or wrongful removal or concealment of the minor children.: no_records_no_removal
    help: |
      Select this if you asked the court to prevent ${other_parties[0].name.full(middle="full")} from hiding or removing the children.
    datatype: yesnowide
---
id: parenting time
question: |
  How do you want the court to handle parenting time for the children you have with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  This used to be called "visitation" in Illinois.
fields:
  - The court should:: parenting_time
    datatype: radio
    choices:
      - Reserve ${other_parties[0].name.full(middle="full")}'s parenting time until a later hearing: reserve
      - Deny ${other_parties[0].name.full(middle="full")} parenting time (no visits at all): deny
        help: |
          You can enter reasons why you want to deny parenting time on the next screen.
      - Restrict ${other_parties[0].name.full(middle="full")}'s parenting time (allow visits with limits): restrict
        help: |
          You can enter reasons why you want to restrict parenting time on the next screen.
      - Grant ${other_parties[0].name.full(middle="full")} parenting (allow visits according to schedule): grant

---
id: restrict or deny parenting time reasons
question: |
  % if parenting_time == "restrict":
  Why do you want to restrict ${other_parties[0].name.full(middle="full")}'s parenting time?
  % else:
  Why do you want to deny ${other_parties[0].name.full(middle="full")} any parenting time?
  % endif  
subquestion: |
  Check all that apply.
fields:
  - ${other_parties[0].name.full(middle="full")} is likely to:: restrict_or_deny_pt_reasons
    datatype: checkboxes
    none of the above: False
    choices:
      - Abuse or endanger the children during parenting time.: no_pt_no_abuse
      - Use parenting time to abuse or harass me, my family, or household members.: no_pt_no_harass
      - Improperly hide or detain the children.: no_pt_no_hide
      - Act in a way that is not in the best interest of the children.: no_pt_no_best_interest
---
id: parenting time format
question: |
  How do you want to tell the court about your parenting time schedule?
subquestion: |
  Your parenting time schedule should include days and times when ${other_parties[0].name.full(middle="full")} will be able to visit the children.
fields:
  - no label: pt_format
    datatype: radio
    choices:
    - I will enter the parenting time schedule on the next screens.: interview
      #datatype: yesnowide
    - I will make a parenting time schedule and attach it to my court forms.: attach
      #datatype: yesnowide
      help: |
        Be sure your parenting time schedule includes:
        
        * Days of the week when parenting time will happen, 
        * Start and end times for each day,
        * Any changes because of holidays, and
        * The date you want the parenting time schedule to start.
---
id: parenting time weekdays
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to have parenting time on weekdays?
subquestion: |
  You can pick which weekdays and times on the next screen.
  
  Weekend parenting time is also an option. You can pick weekend days and times on another screen.
fields:
  - no label: pt_weekdays
    datatype: yesnoradio
---
id: parenting time weekday schedule
question: |
  What weekday parenting time schedule do you want ${other_parties[0].name.full(middle="full")} to have?
fields:
  - Days: pt_weekday_days
    datatype: checkboxes
    none of the above: False
    choices:
      - Monday: "1"
      - Tuesday: "2"
      - Wednesday: "3"
      - Thursday: "4"
      - Friday: "5"
    minlength: 1
    validation messages:
      minlength: "Please select at least one weekday."
  - Start time: pt_weekday_start
    datatype: time
  - End time: pt_weekday_end
    datatype: time
---
id: parenting time weekends
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to have parenting time on weekends?
subquestion: |
  You can pick weekend days and times on the next screen.
fields:
  - no label: pt_weekends
    datatype: yesnoradio
---
id: parenting time weekend schedule
question: |
  What weekend parenting time schedule do you want ${other_parties[0].name.full(middle="full")} to have?
fields:
  - How often?: pt_weekend_cadence
    datatype: radio
    choices:
      - Every weekend: every
      - Every other weekend: other
  - Which days?: pt_weekend_days
    datatype: radio
    choices:
      - Friday to Saturday: frisat
      - Friday to Sunday: frisun
      - Saturday only, no overnight: sat
      - Saturday to Sunday: satsun
      - Sunday only, no overnight: sun
  - Start time: pt_weekend_start
    datatype: time
  - End time: pt_weekend_end
    datatype: time
---
id: parenting time holidays
question: |
  Do you want the parenting time to be different on holidays?
subquestion: |
  You can list holidays and times on the next screen.
fields:
  - no label: pt_holidays
    datatype: yesnoradio
---
id: parenting time holiday schedule
question: |
  What holiday parenting time schedule do you want ${other_parties[0].name.full(middle="full")} to have?
fields:
  - List holidays (separate by commas): pt_holiday_list
    input type: area
    rows: 3
    maxlength: 150
    help: |
      For example: New Years Day, Fourth of July, and Thanksgiving
  - Start time: pt_holiday_start
    datatype: time
  - End time: pt_holiday_end
    datatype: time
---
id: parenting time start date
question: |
  When do you want the parenting time schedule to start?
fields:
  - Date: pt_start_date
    datatype: date
    min: ${ today().format("yyyy-MM-dd") }
---
id: parenting time supervised
question: |
  Do you want ${other_parties[0].name.full(middle="full")}'s parenting time to be supervised?
subquestion: |
  You can name an adult to supervise parenting time. In some places, an official supervised visitation center may be available.
fields:
  - no label: pt_supervised
    datatype: yesnoradio
---
id: parenting time supervisor type
question: |
  Who do you want to supervise parenting time?
fields:
  - no label: pt_supervisor_type
    datatype: radio
    choices:
    - A person I know will supervise parenting time.: person
    - I want parenting time to happen at an official supervised visitation center, if available.: agency
---
id: supervisor name
sets:
  - pt_supervisor.name.first
  - pt_supervisor.name.last
  - pt_supervisor.name.middle
  - pt_supervisor.name.suffix
question:  |
  Who is the adult you want to supervise parenting time?
subquestion: |
  **Note:** They will have to complate an *Affidavit of Parenting Time Supervisor*. You can get this form at the end of the program.
fields:
  - code: |
      pt_supervisor.name_fields()
---
id: pt agency name
question:  |
  What is the name of the official supervised visitation center?
subquestion: |
  If you do not know this, leave it blank.
fields:
  - Agency name: pt_visitation_center_name
    required: False
---
id: parenting time location identified
question: |
  Do you know where you want ${other_parties[0].name.full(middle="full")}'s parenting time to happen?
fields:
  - no label: pt_location_identified
    datatype: yesnoradio

---
id: parenting time location
question: |
  Where will parenting time happen?
subquestion: |
  **This address will appear on your court papers.** Do not list a location you want to keep hidden from ${other_parties[0].name.full(middle="full")}.
fields:
  - Name of location (if any): pt_location.name
    required: False
  - Street address: pt_location.address
    address autocomplete: True
  - Address line 2: pt_location.unit
    required: False
  - City: pt_location.city
  - State: pt_location.state
    code: |
      states_list()
---
id: parenting time transportation person
sets:
  - pt_transportation_person.name.first
  - pt_transportation_person.name.last
  - pt_transportation_person.name.middle
  - pt_transportation_person.name.suffix
question: |
  Who will provide transportation to take children to and from parenting time?
fields:
  - no label: pt_transportation
    datatype: radio
    choices:
      - I will provide transportation.: petitioner
      - ${other_parties[0].name.full(middle="full")} will provide transportation.: respondent
      - Someone else will provide transportation.: other
      - I will figure this out later.: later
  - note: |
      Enter the name of the person who will provide transporation. 
    show if:
      variable: pt_transportation
      is: "other"
  - First: pt_transportation_person.name.first
    show if:
      variable: pt_transportation
      is: "other"
  - Middle: pt_transportation_person.name.middle
    required: False
    show if:
      variable: pt_transportation
      is: "other"
  - Last: pt_transportation_person.name.last
    show if:
      variable: pt_transportation
      is: "other"
  - Suffix: pt_transportation_person.name.suffix
    required: False
    code: |
      name_suffix()
    show if:
      variable: pt_transportation
      is: "other"
---
id: separate pickup location
question: |
  Is there a pickup location for parenting time?
subquestion: |
  This is where your children will be picked up from before going to parenting time.
fields:
  - no label: pt_separate_pickup_location
    datatype: yesnoradio
---
id: pickup location
question: |
  Where will pickup for parenting time happen?
subquestion: |
  **This address will appear on your court papers.** Do not list a location you want to keep hidden from ${other_parties[0].name.full(middle="full")}.
fields:
  - Name of location (if any): pt_pickup_location.name
    required: False
  - Street address: pt_pickup_location.address
    address autocomplete: True
  - Address line 2: pt_pickup_location.unit
    required: False
  - City: pt_pickup_location.city
  - State: pt_pickup_location.state
    code: |
      states_list()
---
id: separate return location
question: |
  Is there a return location for parenting time?
subquestion: |
  This is where your children will be returned to you after parenting time.
fields:
  - no label: pt_separate_return_location
    datatype: yesnoradio
---
id: return location
question: |
  Where will the return from parenting time happen?
subquestion: |
  **This address will appear on your court papers.** Do not list a location you want to keep hidden from ${other_parties[0].name.full(middle="full")}.
fields:
  - Name of location (if any): pt_return_location.name
    required: False
  - Street address: pt_return_location.address
    address autocomplete: True
  - Address line 2: pt_return_location.unit
    required: False
  - City: pt_return_location.city
  - State: pt_return_location.state
    code: |
      states_list()
---
id: immediate return after parenting time
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to return the children immediately after parenting time?
subquestion: |
  You can ask that the children are returned directly to you or to someone you choose. 
fields:
  - no label: pt_immediate_return
    datatype: yesnoradio
---
id: any personal property to petitioner
question: |
  Is there personal property you want to protect from ${other_parties[0].name.full(middle="full")}?
subquestion: |
  The court can order that you will get control of personal property. This is called getting possession of the property.
  
  For example: your car, clothing, or phone.
fields:
  - no label: award_personal_property
    datatype: yesnoradio
---
id: petitioner personal property to protect
question: |
  % if i == 0:
  Personal property you want possession of
  % else:
  Next item you want possession of
  % endif
subquestion: |
  If you are listing a car, include the year, make, and model. For example: 2019 Chevy Malibu.
fields:
  - Item name: petitioner_personal_property[i].name.text
  - Do you want the court to order ${other_parties[0].name.full(middle="full")} to return it to you?: petitioner_personal_property[i].respo_has
    datatype: yesnoradio
---
id: any other petitioner personal property
question: |
  Do you have another item you want protected by this order?
subquestion: |
  % if len(petitioner_personal_property.elements) >= 1:  
  So far you have told us about your ${comma_and_list([item.name.text for item in petitioner_personal_property])}.
  % endif
fields:
  - "Any other items?": petitioner_personal_property.there_is_another
    datatype: yesnoradio
---

depends on: 
  - petitioner_personal_property[i].respo_has
code: |
  return_items_qty = 0
  if award_personal_property == False:
    return_property = False
  else:
    for item in petitioner_personal_property:
      if item.respo_has == True:
  	    return_items_qty += 1
    if return_items_qty > 0:
      return_property = True
    else:
      return_property = False
---
id: return petitioner property to whom
question: |
  Who should ${other_parties[0].name.full(middle="full")} return your property to?
fields:
  - no label: return_property_person
    datatype: radio
    choices:
      - Me: petitioner
      - Another person: other
  - First: other_return_property_person.name.first
    show if:
      variable: return_property_person
      is: "other"
  - Middle: other_return_property_person.name.middle
    required: False
    show if:
      variable: return_property_person
      is: "other"
  - Last: other_return_property_person.name.last
    show if:
      variable: return_property_person
      is: "other"
  - Suffix: other_return_property_person.name.suffix
    required: False
    code: |
      name_suffix()
    show if:
      variable: return_property_person
      is: "other"
      
---
id: why respondent should return property
question: |
  Why should ${other_parties[0].name.full(middle="full")} return the property?
subquestion: | 
  You said ${other_parties[0].name.full(middle="full")} should return these items: ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) }.
fields:
  - no label: return_property_reason
    datatype: radio
    choices:
      - I own the property.: petitioner owns
      - We both own the property, but sharing it would be harder on me. It would put me at risk for abuse or sharing is not practical.: both own
      - I am married to ${other_parties[0].name.full(middle="full")} and the property should be divided in a divorce.: divorce
  - Has a divorce been filed yet?: divorce_filed
    datatype: yesnoradio
    show if:
      variable: return_property_reason
      is: "divorce"
---
id: any property to return to respondent
question: |
  Is there any personal property ${other_parties[0].name.full(middle="full")} will need returned to them right away?
subquestion: |
  This can be things like clothes, medicine, or other items.
fields:
  - no label: return_respo_property
    datatype: yesnoradio
---
id: respondent property
question: |
  What personal property should be returned to ${other_parties[0].name.full(middle="full")}?
fields:
  - no label: respo_property
    datatype: checkboxes
    none of the above: False
    choices:
      - Clothes: clothes
      - Medicine: medicine
      - Other items (you can list items below): other
  - Other items (separate by commas): respo_property_other
    input type: area
    rows: 2
    maxlength: 160
    show if:
      variable: respo_property['other']
      is: True
---
id: respondent one time right to enter
question: |
  Should ${other_parties[0].name.full(middle="full")} be allowed to enter the home **only one time** to get their personal property?
subquestion: |
  You can require that a law enforcement officer or another person is present when ${other_parties[0].name.full(middle="full")} gets their property.
fields:
  - no label: respondent_one_time_entry
    datatype: yesnoradio

---
id: know property transfer address
question: |
  Do you know where you want the personal property transfer to happen?
subquestion: |
  This is where you will get your property back from ${other_parties[0].name.full(middle="full")}, and where they will get their property back. 
  
  You may want this to happen at a police department or sheriff's office. You can enter the address on the next screen.
fields:
  - no label: property_transfer_location_cb
    datatype: yesnoradio
---
id: property transfer location
question: |
  Where should the property transfer happen?
subquestion: |
  This can be at a police department or sheriff's office.
  
  **This address will appear on your court papers.** Do not list a location you want to keep hidden from ${other_parties[0].name.full(middle="full")}.  
fields:
  - Street address: property_transfer_location.address
    address autocomplete: True
  - Address line 2: property_transfer_location.unit
    required: False
  - City: property_transfer_location.city
  - State: property_transfer_location.state
    code: |
      states_list()
  - ZIP code: property_transfer_location.zip
    required: False
---
id: property transfer anyone present
question: |
  Do you want anyone else present at the property transfer?
subquestion: |
  It may be safer if a law enforcement officer or another person is present when the property is transferred.
fields:
  - no label: property_transfer_present_cb
    datatype: yesnoradio
---
id: property transfer person name
question: |
  Who should be present at the property transfer?
subquestion: |
  It may be safer if a law enforcement officer is present when the property is transferred.
fields:
  - no label: property_transfer_person
    datatype: radio
    choices:
      - Law enforcement: police
      - Another person: other
  - Law enforcement agency: property_transfer_police
    help: |
      Example: Chicago Police Department
    show if:
      variable: property_transfer_person
      is: "police"
  - Who will request that law enforcement is at the transfer?: request_police_person
    datatype: radio
    choices:
      - Me: petitioner
      - ${other_parties[0].name.full(middle="full")}: respondent
      - I don't know. I'll figure this out later.: idk
    show if:
      variable: property_transfer_person
      is: "police"
  - First: other_transfer_property_person.name.first
    show if:
      variable: property_transfer_person
      is: "other"
  - Middle: other_transfer_property_person.name.middle
    required: False
    show if:
      variable: property_transfer_person
      is: "other"
  - Last: other_transfer_property_person.name.last
    show if:
      variable: property_transfer_person
      is: "other"
  - Suffix: other_transfer_property_person.name.suffix
    required: False
    code: |
      name_suffix()
    show if:
      variable: property_transfer_person
      is: "other"
---
id: know property transfer date
question: |
  Do you know when you want the property transfer to happen?
subquestion: |
  If you do not know this now, you can decide later.
fields:
  - no label: property_transfer_know_date
    datatype: yesnoradio
---
id: property transfer date
question: |
  When do you want the property transfer to happen?
subquestion: |
  If you do not know the exact date and time, take your best guess.
fields:
  - Date: property_transfer_date
    datatype: date
    min: ${ today().format("yyyy-MM-dd") }
  - Time: property_transfer_time
    datatype: time
---
id: any pets to protect
question: |
  Do you want the court to give you possession of all family pets or other animals?
subquestion: |
  The court can order ${other_parties[0].name.full(middle="full")} to stay away from the pets and forbid them from taking, hiding, or harming the pets.
fields:
  - no label: possession_of_animals
    datatype: yesnoradio
---
id: pet details
question: |
  % if i == 0:
  Pet you want possession of
  % else:
  Next pet you want possession of
  % endif
fields:
  - Pet name: pets[i].name.text
    maxlength: 20
  - Description: pets[i].description
    maxlength: 25
---
id: any other pets
question: |
  Do you have another pet you want to protect?
subquestion: |
  % if len(pets.elements) >= 1:  
  So far you have told us about ${comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets])}.
  % endif
fields:
  - "Any other pets?": pets.there_is_another
    datatype: yesnoradio
---
id: want cell phone account separation
question: |
  Do you want the court to order that your cell phone accounts be separated?
subquestion: |
  If you or your children are on ${other_parties[0].name.full(middle="full")}'s cell phone account, you can ask the court to separate the accounts. You will be responsible for paying the cell phone service of the separate account. 
fields:
  - no label: separate_phone_service
    datatype: yesnoradio
---
id: cell phone account holder name
question: |
  Who is the cell phone account holder?
subquestion: |
  This person's phone number is usually the main or billing phone number associated with the account.
fields:
  - no label: phone_account_holder
    datatype: radio
    choices:
      - ${other_parties[0].name.full(middle="full")}: respondent
      - Someone else: other
  - First: other_phone_account_holder.name.first
    show if:
      variable: phone_account_holder
      is: "other"
  - Middle: other_phone_account_holder.name.middle
    required: False
    show if:
      variable: phone_account_holder
      is: "other"
  - Last: other_phone_account_holder.name.last
    show if:
      variable: phone_account_holder
      is: "other"
  - Suffix: other_phone_account_holder.name.suffix
    required: False
    code: |
      name_suffix()
    show if:
      variable: phone_account_holder
      is: "other"
---
id: cell phone account details
question: |
  Cell phone account details
fields:
  - Cell phone service provider: phone_provider
    maxlength: 25
    help: |
      Examples: Verizon or T-Mobile
  - Phone number of account holder (billing phone number): billing_phone_number
    datatype: al_international_phone
---
id: cell phone number to separate
question: |
  % if i == 0:
  Cell phone number you want to separate 
  % else:
  Next cell phone number you want to separate 
  % endif
subquestion: |
  You can enter up to 4 phone numbers in total. This is the ${ ordinal(i) } number.
  
  Your phone number would probably be one of the numbers to separate.
  
  **Note:** This phone number will appear on your court forms.
fields:
  - Phone number: cell_numbers[i].name.text
    datatype: al_international_phone
---
id: any other phone numbers
question: |
  Do you have another phone number you want to separate?
subquestion: |
  % if len(cell_numbers.elements) >= 1:  
  You can enter up to 4 phone numbers. So far you have told us about ${comma_and_list([phone_number_formatted(item.name.text) for item in cell_numbers])}.
  % endif
fields:
  - "Any other phone numbers?": cell_numbers.there_is_another
    datatype: yesnoradio
---
code: |
  cell_numbers[i].name.text
  cell_numbers[i].complete = True
---
code: |
  if cell_numbers.number_gathered() >= 4:
    cell_numbers.there_is_another = False
---

id: restrict other property
question: |
  Is there other property you want the court to protect?
subquestion: |
  The court can order ${other_parties[0].name.full(middle="full")} not to take, hide, damage, or dispose of property. This can include personal property or real estate. 
  
fields:
  - no label: restrict_other_property
    datatype: yesnoradio
---
id: restricted property
question: |
  What property should ${other_parties[0].name.full(middle="full")} be protected?
subquestion: |
  The court can order ${other_parties[0].name.full(middle="full")} not to take, hide, damage, or dispose of property. This can include personal property or real estate. 
  
  If you are listing a car, include the year, make, and model, and year. For example: 2019 Chevy Malibu.
fields:
  - Other property to protect (separate by commas): restricted_property
    input type: area
    rows: 2
    maxlength: 160
---
id: why property should be restricted
question: |
  Why should the property be protected from ${other_parties[0].name.full(middle="full")}?
subquestion: | 
  You said this property should be protected: ${ restricted_property.rstrip('.') }.
fields:
  - no label: restrict_property_reason
    datatype: radio
    choices:
      - I own the property.: petitioner
      - We both own the property, but sharing it would be harder on me. It would put me at risk for abuse or sharing is not practical.: both
      - I am married to ${other_parties[0].name.full(middle="full")} and the property should be divided in a divorce.: divorce
  - Has a divorce been filed yet?: restrict_divorce_filed
    datatype: yesnoradio
    show if:
      variable: restrict_property_reason
      is: "divorce"
---
id: restrict resources of elderly petitioner
question: |
  Should ${other_parties[0].name.full(middle="full")} be ordered not to improperly use an elderly person's money or property for themselves?
subquestion: |
  If the Order of Protection will include any elderly people, this can protect their financial resources and property.
fields:
  - no label: restrict_elderly_petitioner_resources
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - Does not apply: dna
---

---
id: request temporary support
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to pay temporary child support?
subquestion: |
  The court can order temporary child support only after ${other_parties[0].name.full(middle="full")} has received written notice or attended the court hearing where this is decided.
  
  **Important:** Even if the judge can't award temporary support at the first hearing, it is easier to ask for it now. Otherwise, you will have to amend your Petition later.
fields:
  - no label: temp_child_support
    datatype: yesnoradio
---
id: request maintenance
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to pay temporary maintenance?
subquestion: |
  Maintenance used to be called "spousal support" or "alimony."
  
  The court can order temporary maintenance only after ${other_parties[0].name.full(middle="full")} has received written notice or attended the court hearing where this is decided.

fields:
  - no label: temp_maintenance
    datatype: yesnoradio
---
id: expenses
question: |
  Do you want ${other_parties[0].name.full(middle="full")} to pay for losses caused by abuse, neglect, or exploitation?
subquestion: |
  The court can order ${other_parties[0].name.full(middle="full")} to pay only after they have received written notice or attended the court hearing where this is decided.

  If you do not know the exact amount you can estimate. Bring receipts and proof of ownership and payment to court if you have them.
fields:
  - No. I do not want to request any repayment.: expenses_none
    datatype: yesnowide
    disable others: True
  - note: |
      ---
      Yes. I want the court to order ${other_parties[0].name.full(middle="full")} to pay for:
  - Medical expenses: expenses_medical
    datatype: yesnowide
  - "Amount": expenses_medical_amount
    datatype: currency
    min: 0.01
    show if: expenses_medical
  - "Lost income": expenses_lost_income
    datatype: yesnowide
  - "Amount": expenses_lost_income_amount
    datatype: currency
    min: 0.01
    show if: expenses_lost_income
  - "Repair or replace property damaged or taken": expenses_property
    datatype: yesnowide
  - "Amount": expenses_property_amount
    datatype: currency
    min: 0.01
    show if: expenses_property    
  - "Moving and other travel expenses": expenses_moving
    datatype: yesnowide
  - "Amount": expenses_moving_amount
    datatype: currency
    min: 0.01
    show if: expenses_moving
  - "Temporary housing or counseling at a domestic violence shelter": expenses_shelter
    datatype: yesnowide
  - "Amount": expenses_shelter_amount
    datatype: currency
    min: 0.01
    show if: expenses_shelter
  - "Expenses for housing and meals, other than a domestic violence shelter": expenses_housing
    datatype: yesnowide
  - "Amount": expenses_housing_amount
    datatype: currency
    min: 0.01
    show if: expenses_housing
  - "Expenses for search and recovery of children": expenses_children
    datatype: yesnowide
  - "Amount": expenses_children_amount
    datatype: currency
    min: 0.01
    show if: expenses_children
  - "Attorney's fees": expenses_lawyer
    datatype: yesnowide
  - "Amount": expenses_lawyer_amount
    datatype: currency
    min: 0.01
    show if: expenses_lawyer
  - "Other expenses (describe below)": expenses_other
    datatype: yesnowide
  - "Other expenses (if more than one, list all)": expenses_other_kind
    maxlength: 40
    show if: expenses_other
  - "Amount (if more than one, enter total)": expenses_other_amount
    datatype: currency
    min: 0.01
    show if: expenses_other
validation code: |
  if not (expenses_none or expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_shelter or expenses_housing or expenses_children or expenses_other):
    validation_error("Please check at least one option.", field="expenses_other")
---
id: firearms threat
question: |
  % if minor_kids_with_respondent or protect_petitioner_kids:
  Is ${other_parties[0].name.full(middle="full")} a threat to the physical safety of you or your children?
  % else:
  Is ${other_parties[0].name.full(middle="full")} a threat to your physical safety?
  % endif
subquestion: |
  Just knowing that ${other_parties[0].name.full(middle="full")} has a **weapon** can be a threat if you are afraid they could use it against you.

  ${ collapse_template(dv_risk_factors) }

  % if minor_kids_with_respondent or protect_petitioner_kids:
  **Note:** If ${other_parties[0].name.full(middle="full")} threatened you or your children with a weapon, be sure to explain the threats, the weapon and its location in the [**What happened**](${ url_action('section_incidents') }) section. Describe the weapon as best you can. Threats are incidents of abuse that are important to your case.
  % else:
  **Note:** If ${other_parties[0].name.full(middle="full")} threatened you with a weapon, be sure to explain the threats, the weapon and its location in the [**What happened**](${ url_action('section_incidents') }) section. Describe the weapon as best you can. Threats are incidents of abuse that are important to your case.
  % endif
fields:
  - no label: firearms_threat
    datatype: yesnoradio
---
template: dv_risk_factors
subject: |
  **What other things should I consider?**
content: |  
  ${other_parties[0].name.full(middle="full")} might be more likely to threaten your safety if:

  * You recently separated from them or are currently separating from them.
  * They tried to strangle or choke you.
  * They have access to a firearm or other weapon.
  * They are constantly or violently jealous.
  * They have forced you to have sex with them.
  * They have threatened to commit suicide.
  * They try to control most or all of your daily activities.
  * They monitor your phone, computer, or social media use.

---
id: remove firearms
question: |
  Do you want the court to order ${other_parties[0].name.full(middle="full")} to turn over their guns?
subquestion: |
  The court can order ${other_parties[0].name.full(middle="full")} to turn over firearms.

  % if minor_kids_with_respondent or protect_petitioner_kids:
  Reminder: If ${other_parties[0].name.full(middle="full")} threatened you or your children with a weapon, be sure to explain the threat and the weapon in the [**What happened**](${ url_action('section_incidents') }) section.
  % else:
  Reminder: If ${other_parties[0].name.full(middle="full")} threatened you with a weapon, be sure to explain the threat and the weapon in the [**What happened**](${ url_action('section_incidents') }) section.
  % endif  
fields:
  - no label: firearms_turnover
    datatype: yesnoradio
---
id: intimate partner
question: |
  Is ${other_parties[0].name.full(middle="full")} a current or former intimate partner?
subquestion: |
  This means you were in a romantic relationship with them. This information may be part of the court's decision to remove Respondent's guns.
fields:
  - no label: intimate_partner
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - Does not apply: dna
---
id: remove firearms additional reasons
question: |
  Are there other things the court should know about ${other_parties[0].name.full(middle="full")}?
subquestion: |
  Answers to these questions will help the court understand if ${other_parties[0].name.full(middle="full")} could be a physical threat to themselves or others. Check all that apply.
fields:
  - ${other_parties[0].name.full(middle="full")}:: firearms_reasons
    datatype: checkboxes
    none of the above: False
    required: False
    choices:
      - Has a history of violence.: violence
      - Has a history of possession or use of firearms.: use
      - May be a threat to the safety of the public or police officers.: safety
      - Is now or has been suicidal.: suicidal
      - Carries a firearm on their person or in a vehicle. (Enter car details below, if known.): vehicle
  - Car make: respondent_car_make
    help: |
      Examples: Chevrolet, Honda, and Ford
    required: False
    maxlength: 25
    show if:
      variable: firearms_reasons['vehicle']
      is: True
  - Car model: respondent_car_model
    help: |
      Examples: Malibu, Civic, and Mustang
    required: False
    maxlength: 25
    show if:
      variable: firearms_reasons['vehicle']
      is: True

---
reconsider: True
code: |
  if (stay_away or no_communication) and trial_court_index != 71:
    no_contact_text = "No contact by any means with protected parties. "
    add_no_contact_language = True
  else: 
    no_contact_text = ""
    add_no_contact_language = False
---
id: misc remedies
question: |
  What else do you want the court to order ${other_parties[0].name.full(middle="full")} to do or to stop doing?
subquestion: |
  % if add_no_contact_language and trial_court_index != 71:
  Because you are asking the court to order ${other_parties[0].name.full(middle="full")} to stay away or to stop communication, "No contact by any means with protected parties" will be added. You can change this below.
  % endif
fields:
  - ${other_parties[0].name.full(middle="full")} should be ordered to:: misc_remedies_text
    input type: area
    rows: 4
    maxlength: 415
    required: False
    default: |
      ${ no_contact_text }
  - Because:: misc_remedies_because_text
    input type: area
    rows: 4
    maxlength: 375
    required: False
---
id: e-signature
question: |
  Do you want to add your e-signature to your Petition for Order of Protection?
subquestion: |
  This program can put "**/s/ ${users[0].name.full(middle='full')}**" where you would sign your name. The court will accept this as your signature.

  If you do not add your **{e-signature}**, you must sign your paper forms before you file them.

  <div class="alert alert-info ilao-info" role="alert">
    <h6 class="alert-heading">What it means to sign your forms</h6>
    <p>By signing your <i>Petition for Order of Protection</i>, you are certifying that:</p>
    <p><ul>
      <li>Everything on the forms is true and correct, and</li>
      <li>You understand that making a false statement on the form is perjury, which can result in criminal penalties.</li>
    </ul></p>
  <p>See the <a href="https://www.ilga.gov/legislation/ilcs/documents/073500050k1-109.htm"><b>Code of Civil Procedure, 735 ILCS 5/1-109</b></a> for more information.</p>
  </div>
fields:
  - "Add e-signature?": e_signature
    datatype: radio
    choices:
      - Yes: True
      - No, I will sign my forms later.: False
terms:
  - "e-signature": |
      An e-signature is an electronic signature. It is a digital version of a signature that has the same effect as a hand-written signature. 
---
template: signature_help
subject: |
  **What does it mean to sign the *Petition for Order of Protection*?**
content: |  
  By signing your *Petition for Order of Protection*, you are certifying that:
  
  * Everything on the form is true and correct, and
  * You understand that making a false statement on the form is perjury, which can result in criminal penalties.
  
  See the [**Code of Civil Procedure, 735 ILCS 5/1-109**](https://www.ilga.gov/legislation/ilcs/documents/073500050k1-109.htm), for more information.
---
id: phone number
question: |
  What safe phone number do you want to list on your court forms?
subquestion: |
  The court might need to contact you about this case.

  **This phone number will appear on your court forms.** If you do not want to list a phone number on your forms, leave this blank.
fields:
  - Safe phone number: users[0].phone_number
    datatype: al_international_phone
    required: False
---    
id: notice by email
question: |
  Do you have a safe email address?
subquestion: |
  If you have a safe email address, you must list it on the forms so the court and other parties can contact you about this case.
fields:
  - Have a safe email?: users[0].email_notice
    datatype: yesnoradio
---
id: email address
question: |
  What email address do you want to list on your court forms?
subquestion: |
  **This email will appear on your court forms.** If you do not want to enter your personal email address, you can create a new email account to get email about your case.
  
  To make a new email account try one of these email services:
  
  * [**Gmail**](https://accounts.google.com/SignUp)
  * [**Outlook**](https://outlook.live.com/owa/?nlp=1&signup=1)
  * [**Yahoo**](https://login.yahoo.com/account/create?.lang=en-US&.intl=us)
  
  Be sure to check your email daily, otherwise you may miss important information about your case.
fields:
  - Safe email address: users[0].email    
    datatype: email
---
id: service address choice
question: |
  Where can ${other_parties[0].name.full(middle="full")} be found?
subquestion: |
  This is where they will be served with Order of Protection court papers.
  
  % if trial_court_index == -1:
  You can update the Cook County Sheriff's office when you have this information. Email them anytime at ccso.protectiveorders@ccsheriff.org or call them at 312-603-2134 or 312-603-3340 (Monday through Friday, 8AM to 5PM).
  % endif
  
fields:
  - no label: service_address_choice
    datatype: radio
    code: service_list
---
reconsider: True
code: |
  service_list = []
  if knows_respondent_home == True:
    service_list.append( { "home": other_parties[0].name.full(middle="full") + "'s home address (" + other_parties[0].address.on_one_line(bare=True) + ")" })
  else:
    if knows_respondent_home_last == True:
      service_list.append( { "home": other_parties[0].name.full(middle="full") + "'s last known address (" + other_parties[0].address.on_one_line(bare=True) + ")" })
  if knows_respondent_work == True:
    service_list.append({ "work": other_parties[0].name.full(middle="full")+ "'s work address (" + other_parties[0].work_address.on_one_line(bare=True) + ")" })
  service_list.append({ "other": "An address I will enter" })
---
id: other service address
question: |
  Enter the address where ${other_parties[0].name.full(middle="full")} can be found
fields:
  - Street address: service_address.address
    address autocomplete: True
  - Address line 2: service_address.unit
    required: False
  - City: service_address.city
  - State: service_address.state
    code: |
      states_list()
  - ZIP code: service_address.zip
    required: False
---    
id: have another service address
question: |
  Do you want to add another address where ${other_parties[0].name.full(middle="full")} can be found?
fields:
  - no label: has_second_service_address
    datatype: yesnoradio
---
id: second service address choice
question: |
  Where else can ${other_parties[0].name.full(middle="full")} be found?
fields:
  - no label: second_service_address_choice
    datatype: radio
    code: alt_service_list
---
reconsider: True
code: |
  alt_service_list = []
  if knows_respondent_home == True and service_address_choice != "home":
    alt_service_list.append( { "home": other_parties[0].name.full(middle="full") + "'s home address (" + other_parties[0].address.on_one_line(bare=True) + ")" })
  else:
    if knows_respondent_home == False:
      if knows_respondent_home_last == True and service_address_choice != "home":
        alt_service_list.append( { "home": other_parties[0].name.full(middle="full") + "'s last known address (" + other_parties[0].address.on_one_line(bare=True) + ")" })
  if knows_respondent_work == True and service_address_choice != "work":
    alt_service_list.append({ "work": other_parties[0].name.full(middle="full")+ "'s work address (" + other_parties[0].work_address.on_one_line(bare=True) + ")" })
  alt_service_list.append({ "other": "An address I will enter" })
---
id: out of state county
question: |
  In which county can the sheriff find ${other_parties[0].name.full(middle="full")}?
subquestion: |
  You said the sheriff can serve court papers on ${other_parties[0].name.full(middle="full")} at:
  
  % if service_address_choice == "other":
  * ${ service_address.on_one_line(bare=True) }
  % elif service_address_choice == "home":
  * ${ other_parties[0].address.on_one_line(bare=True) }        
  % else:
  * ${ other_parties[0].work_address.on_one_line(bare=True) }        
  % endif
  
  Enter the county below so the sheriff can find ${other_parties[0].name.full(middle="full")}.
  
  ${ collapse_template(county_lookup_help) }
fields:
  - County where ${other_parties[0].name.full(middle="full")} can be served: service_county
    maxlength: 40
---
template: county_lookup_help
subject: |
  **How do I look up the county?**
content: |  
  You can use this **[City-to-County Finder](https://www.statsamerica.org/CityCountyFinder/)** to find the county.
---
id: second other service address
question: |
  Enter another address where ${other_parties[0].name.full(middle="full")} can be found
fields:
  - Street address: second_service_address.address
    address autocomplete: True
  - Address line 2: second_service_address.unit
    required: False
  - City: second_service_address.city
  - State: second_service_address.state
    code: |
      states_list()
  - ZIP code: second_service_address.zip
    required: False
---
id: respondent alt contact info
question: |
  Do you know other ways ${other_parties[0].name.full(middle="full")} can be contacted?
subquestion: |
  You alread told us:
  
  % if other_parties[0].phone_number != "":
  * ${other_parties[0].name.full(middle="full")}'s phone: ${ phone_number_formatted(other_parties[0].phone_number) }
  % else:
  * ${other_parties[0].name.full(middle="full")}'s phone: None entered
  % endif
  % if other_parties[0].email != "":
  * ${other_parties[0].name.full(middle="full")}'s email: ${ other_parties[0].email }
  % else:
  * ${other_parties[0].name.full(middle="full")}'s email: None entered
  % endif
   
  If you do not know other contact information for ${other_parties[0].name.full(middle="full")}, leave these blank.
fields:
  - Phone: other_parties[0].phone_number_alt
    datatype: al_international_phone
    required: False
  - Email address: other_parties[0].email_alt    
    datatype: email
    required: False
---
reconsider: True
code: |
  if service_address_choice == "home":
    service_state = other_parties[0].address.state
  if service_address_choice == "work":
    service_state = other_parties[0].work_address.state
  if service_address_choice == "other":
    service_state = service_address.state
---
id: service method
question: |
  Who do you want to deliver court papers to ${other_parties[0].name.full(middle="full")}?
subquestion: |
  This is called service. In Illinois, **Sheriffs usually serve Orders of Protection.**
  
  **Note:** There may be a charge for a special process server or a licensed private detective.
fields:
  - no label: service_method
    datatype: radio
    choices:
      - Sheriff (most common): sheriff
      - Special process server: sps
      - Licensed private detective: detective
      - I don't know. I will decide and complete the Summons later.: idk
---
id: additional service information cook
question: |
  What other information will help the sheriff deliver court papers to ${other_parties[0].name.full(middle="full")}?
subquestion: |
  You can add things like:
  
  * Best days and times to serve court papers,
  * Details about the places where ${other_parties[0].name.full(middle="full")} can be found, and
  * Information about other people at those locations that can help find ${other_parties[0].name.full(middle="full")}.

  This will not appear on the forms that will be filed with the court. It goes on the Confidential Protective Order Information Sheet for the Sheriff.
fields:
  - Service information: service_information
    input type: area
    rows: 10
    maxlength: 400
    required: False
    help: |
      Include as much information as possible, such as best hours to serve, type of building, etc.
---
if: trial_court_index != -1
id: respondent gender
question: |
  What is ${other_parties[0].name.full(middle="full")}'s gender?
subquestion: |
  This information is used to help law enforcement identify ${other_parties[0].name.full(middle="full")} and enforce the Order of Protection. If you do not know this information, you can leave it blank.
fields:
  - Gender: other_parties[0].gender
    datatype: radio
    required: False
    choices:
      - Male: male
      - Female: female
      - Other: other
  - ${other_parties[0].name.full(middle="full")}'s gender: respondent_gender_other
    maxlength: 20
    show if:
      variable: other_parties[0].gender
      is: 'other'
---
if: trial_court_index == -1
id: respondent gender cook only
question: |
  What is ${other_parties[0].name.full(middle="full")}'s sex and gender identity?
subquestion: |
  This information is used to help law enforcement identify ${other_parties[0].name.full(middle="full")} and enforce the Order of Protection. If you do not know this information, you can leave it blank.
fields:
  - Sex (will be public, used by any law enforcement): other_parties[0].sex
    datatype: radio
    required: False
    choices:
      - Male: Male
      - Female: Female
      - Other: other
  - ${other_parties[0].name.full(middle="full")}'s sex (will be public, used by any law enforcement): other_parties[0].sex_other
    maxlength: 20
    required: False
    show if:
      variable: other_parties[0].sex
      is: "other"
  - Sex assigned at birth (confidential, used by sheriff only): respondent_sex_at_birth
    datatype: radio
    required: False
    choices:
      - Male: male
      - Female: female
    help: |
      Sex assigned at birth refers to the sex or gender marker on ${other_parties[0].name.full(middle="full")}'s original birth certificate. If they were born intersex, you may want to mention that in gender/other.
  - Gender identity (confidential, used by sheriff only): other_parties[0].gender
    datatype: checkboxes
    none of the above: False
    required: False
    choices:
      - Male: male
      - Female: female
      - Transgender woman / Transfeminine: transfem
      - Transgender man / Transmasculine: transmasc
      - Nonbinary / Gender non-conforming: nonbinary
      - Other: other
  - ${other_parties[0].name.full(middle="full")}'s gender identity (confidential, used by sheriff only): respondent_gender_other
    maxlength: 20
    required: False
    show if:
      variable: other_parties[0].gender['other']
      is: True
---
id: respondent race
question: |
  What is ${other_parties[0].name.full(middle="full")}'s race?
subquestion: |
  This information is used to help enforce the Order of Protection.
fields:
  - Race: other_parties[0].race
    datatype: radio
    choices:
      - Asian: Asian
      - Black: Black
      - Hispanic: Hispanic
      - Latino: Latino
      - Middle Eastern: Middle Eastern 
      - Native American: Native American
      - Native Hawaiian: Native Hawaiian
      - North African: North African
      - Pacific Islander: Pacific Islander
      - White: White
      - 2 or more races: Multiracial
      - Other: other
      - Unknown: unknown
  - ${other_parties[0].name.full(middle="full")}'s race: respondent_race_other
    maxlength: 25
    show if:
      variable: other_parties[0].race
      is: 'other'
---
id: respondent physical characteristics Cook
question: |
  Tell us about ${other_parties[0].name.full(middle="full")}'s appearance
subquestion: |
  This information is used to help enforce the Order of Protection.
  
  Enter what information you know.
fields:
  - Height (feet): other_parties[0].height_feet
    datatype: integer
    required: False
    min: 2
    max: 8
    help: |
      Example: 5
  - Height (inches): other_parties[0].height_inches
    datatype: integer
    required: False
    min: 0
    max: 11
    help: |
      Example: 8
  - Weight (pounds): other_parties[0].weight
    datatype: integer
    required: False
    min: 1
    max: 1500
    help: |
      Example: 170
  - Skin color: other_parties[0].skin
    required: False
    datatype: radio
    choices: 
      - Very light: Very light
      - Light: Light
      - Light brown: Light brown
      - Olive: Olive
      - Brown: Brown
      - Dark brown: Dark brown
      - Other: other
  - ${other_parties[0].name.full(middle="full")}'s skin color: respondent_skin_other
    maxlength: 30
    show if:
      variable: other_parties[0].skin
      is: 'other'
  - Hair color: other_parties[0].hair
    maxlength: 30
    required: False
    help: |
      Examples: brown, black, blond, gray, bald or shaved
  - Eye color: other_parties[0].eyes
    maxlength: 30
    required: False
    help: |
      Examples: brown, blue, hazel, green
  - Does ${other_parties[0].name.full(middle="full")} wear glasses?: other_parties[0].glasses
    datatype: radio
    choices: 
      - Yes: Yes
      - Sometimes: Sometimes
      - No: No
---
id: respondent more identifying info Cook
question: |
  Anything else about ${other_parties[0].name.full(middle="full")}?
subquestion: |
  This information is used to help enforce the Order of Protection.
  
  If you do not know, leave blank.
fields:
  - Any other things about their appearance?: other_parties[0].tattoos
    input type: area
    rows: 3
    maxlength: 120
    required: False
    help: |
      Examples: tattoos, scars, birthmarks, mustache, beard
  - Other names used by ${other_parties[0].name.full(middle="full")}:: alias_names
    input type: area
    rows: 3
    maxlength: 120
    required: False
    help: |
      This could be a name from an earlier marriage or a nickname. If there is more than one, separate by commas.
  - Is ${other_parties[0].name.full(middle="full")} on court-ordered probation?: respondent_on_probation
    datatype: radio
    choices:
      - Yes: Yes
      - No: No
      - I don't know.: idk
  - Probation in which county?: respondent_probation_county
    required: False
    maxlength: 40
    help: |
      Enter the state if outside Illinois.
    show if: 
      variable: respondent_on_probation
      is: "Yes"
---
id: respondent caution
question: |
  Are there reasons the sheriff should use caution when approaching ${other_parties[0].name.full(middle="full")}?
subquestion: |
  Check all that apply.
fields:
  - ${other_parties[0].name.full(middle="full")}: caution_reasons
    datatype: checkboxes
    none of the above: False
    required: False
    choices:
      - Has a history of mental illness.: illness
      - Is now or has been suicidal.: suicidal
      - Is likely to be under the influence of alcohol.: alcohol
      - Is likely to be under the influence of drugs.: drugs
      - Is likely to carry a weapon.: armed
      - Has weapons in the home.: home
  - Type and location of weapons: weapons_description
    required: False
    input type: area
    rows: 5
    maxlength: 180
    js show if: |
      val("caution_reasons['armed']") == true || val("caution_reasons['home']") == true
---
id: car information for cook
question: |
  Enter details about ${other_parties[0].name.full(middle="full")}'s car
subquestion: |
  This information is used to help enforce the Order of Protection.
  
  If you do not know, leave blank.
fields:
  - Car make: respondent_car_make
    #- Car make: cook_vehicle_make
    help: |
      Examples: Chevrolet, Honda, and Ford
    required: False
    maxlength: 25
  - Car model: respondent_car_model
    #- Car model: cook_vehicle_model
    help: |
      Examples: Malibu, Civic, and Mustang
    required: False
    maxlength: 25
  - Car year: cook_vehicle_year
    datatype: integer
    help: |
      Example: 2017
    min: 1900
    max: ${ (today().year + 1) }
    required: False
  - Color: cook_vehicle_color
    help: |
      Examples: black, white, gray, blue
    required: False
    maxlength: 25
  - Car license plate: cook_vehicle_plate
    required: False
    maxlength: 10
  - License plate state: cook_vehicle_state
    code: |
      states_list()
    required: False

---
id: any previous cook cases
question: |
  Have you filed any divorce or parentage cases with ${other_parties[0].name.full(middle="full")} in Cook County before?
subquestion: |
  This will help the court clerk in Cook County assign your case to the correct location. If you were involved in more than one, choose the most recent.
fields:
  - no label: previous_cook_case_type
    datatype: radio
    choices:
      - I was in an earlier divorce case with ${other_parties[0].name.full(middle="full")}.: divorce
      - I was in an earlier parentage case with ${other_parties[0].name.full(middle="full")} involving children we had together.: parentage
      - No earlier divorce or parentage cases were filed in Cook County.: none
---
id: previous cook case details
question: |
  Tell us about the ${ previous_cook_case_type } case with ${other_parties[0].name.full(middle="full")} in Cook County
subquestion: |
  If there is more than one, enter information about the most recent.
fields:
  - Date case was filed: previous_cook_case_date
    datatype: date
    max: ${ today().format("yyyy-MM-dd") }
  - ${ previous_cook_case_type.capitalize() } case number: previous_cook_case_number
    maxlength: 24
  - Name of judge: previous_cook_case_judge
    maxlength: 50

---
id: case number
question: |
  Case number
subquestion: |
  If this is a new case, you can leave this blank. The clerk will give you a case number when you file.
fields:
  - Case number, if you already have one: case_number
    required: False
---
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it will take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  &nbsp;
---
id: get docs screen
question: |
  Download
subquestion: |
  Your forms are ready. View and download your forms below. Click **Make changes** to fix any mistakes.

  **You will not receive an order from the court until you see a judge.**

  This program does not file your ${ form_name } forms with the court. You will need to do this yourself.

  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }
  
  ${ al_user_bundle.download_list_html() }

  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

  **Note:** This program does not file your ${ form_name } forms with the court.
  
  Thank you for using ILAO Easy Forms!
event: get_docs_screen
under: |
  **Worried about doing this on your own?** Call the [**Illinois Domestic Violence Hotline**](https://the-network.org/get-help/) at 877-863-6338 (877-TO END DV) to talk with an advocate.
  % if not user_logged_in():
  
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} Sign-in](${url_of('login', next=interview_url())}) or [create](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif 

  &nbsp;
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Your forms
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [Illinois Legal Aid Online](https://www.illinoislegalaid.org)
---

---
objects:
  - op_instructions: ALDocument.using(title="Instructions", filename="instructions.pdf", has_addendum=False)
  - op_petition: ALDocument.using(title="Petition", filename="petition.pdf", has_addendum=False)
  - op_schools: ALDocument.using(title="Confidential School or Daycare", filename="confidential_schools.pdf", has_addendum=False)
  - additional_incidents: ALDocument.using(title="Additional Incidents of Abuse", filename="additional_incidents.pdf", has_addendum=False)
  - additional_cases: ALDocument.using(title="Additional Case Information", filename="additional_cases.pdf", has_addendum=False)
  - emergency_op: ALDocument.using(title="Emergency Order of Protection (draft)", filename="emergency_op.pdf", has_addendum=False)
  - plenary_op: ALDocument.using(title="Plenary Order of Protection (draft)", filename="plenary_op.pdf", has_addendum=False)
  - op_summons: ALDocument.using(title="Summons", filename="summons.pdf", has_addendum=False)
  - affidavit_pt_supervisor: ALDocument.using(title="Affidavit of Parenting Time Supervisor", filename="affidavit_pt_supervisor.pdf", has_addendum=False)
  - efiling_exemption: ALDocument.using(title="E-filing exemption (optional)", filename="e-filing_exemption.pdf", has_addendum=False)
  - cook_dv_cover_sheet: ALDocument.using(title="Domestic Violence Cover Sheet", filename="cook_dv_cover_sheet.pdf", has_addendum=False)
  - cook_sheriff_info_sheet: ALDocument.using(title="Confidential Sheriff Information Sheet", filename="cook_sheriff_info_sheet.pdf", has_addendum=False)
  - sheriff_cover_sheet: ALDocument.using(title="Sheriff Information Cover Sheet", filename="sheriff_info_cover_sheet.pdf", has_addendum=False)

---
code: |
  op_instructions.enabled = True
  op_petition.enabled = True
  op_petition_single_pdf_bundle.enabled = True
  additional_cases.enabled = False
  additional_incidents.enabled = False
  emergency_op.enabled = False
  plenary_op.enabled = False
  op_summons.enabled = True
  op_schools.enabled = False
  affidavit_pt_supervisor.enabled = False
  efiling_exemption.enabled = True
  cook_dv_cover_sheet.enabled = False
  cook_sheriff_info_sheet.enabled = False
  sheriff_cover_sheet.enabled = False
  sheriff_info_bundle.enabled = False
  
  if incidents.number() > 4:
    additional_incidents.enabled = True

  if has_other_ops == "Yes":
    if other_ops.number() > 2:
      additional_cases.enabled = True
  if has_other_cases == "Yes":
    if other_cases.number() > 2:
      additional_cases.enabled = True

  if stay_away_schools:
    if (minor_kids_with_respondent and no_removal_school) or protect_petitioner_kids:
      if schools[0].hide:
        op_schools.enabled = True
    if stay_away_schools_2:
      if (minor_kids_with_respondent and no_removal_school) or protect_petitioner_kids:
        if schools[1].hide:
          op_schools.enabled = True

  if minor_kids_with_respondent:
    if parenting_time == "restrict" or parenting_time == "allow":
      if pt_supervised:
        if pt_supervisor_type == "person":
          affidavit_pt_supervisor.enabled = True

  if eop:
    emergency_op.enabled = True
  if pop:
    plenary_op.enabled = True

  if trial_court_index == -1:
    cook_dv_cover_sheet.enabled = True
    cook_sheriff_info_sheet.enabled = True
    sheriff_cover_sheet.enabled = True
    sheriff_info_bundle.enabled = True


---
objects:
  - op_petition_single_pdf_bundle: ALDocumentBundle.using(elements=[op_petition, additional_cases, additional_incidents], filename="petition.pdf", title="Petition for Order of Protection")
  - sheriff_info_bundle: ALDocumentBundle.using(elements=[sheriff_cover_sheet, cook_sheriff_info_sheet], filename="cook_sheriff_info_sheet.pdf", title="Confidential Sheriff Information Sheet")
  - al_user_bundle: ALDocumentBundle.using(elements=[op_instructions, cook_dv_cover_sheet, op_petition_single_pdf_bundle, op_schools, emergency_op, plenary_op, op_summons, sheriff_info_bundle, affidavit_pt_supervisor, efiling_exemption], filename="order_of_protection.pdf", title="All forms")
  - al_court_bundle: ALDocumentBundle.using(elements=[cook_dv_cover_sheet, op_petition_single_pdf_bundle, op_schools, emergency_op, plenary_op, op_summons, cook_sheriff_info_sheet, efiling_exemption], filename="order_of_protection.pdf", title="All forms")

---
attachment:
  variable name: op_instructions[i]
  name: instructions
  filename: op_instructions
  skip undefined: True
  editable: False
  pdf template file: op_instructions.pdf
  fields:
    - "fake": ${ "" }
---
attachment:
  variable name: op_petition[i]
  name: petition
  filename: petition
  skip undefined: True
  editable: False
  #rendering font: "/usr/share/fonts/truetype/msttcorefonts/Arial.ttf"
  pdf template file: op_petition.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "civil_proceeding": True
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "petitioner__2": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "case_number__3": ${ case_number }
    - "case_number__4": ${ case_number }
    - "case_number__5": ${ case_number }
    - "case_number__6": ${ case_number }
    - "case_number__7": ${ case_number }
    - "case_number__8": ${ case_number }
    - "case_number__9": ${ case_number }
    - "case_number__10": ${ case_number }
    - "case_number__11": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    #- "shared_kids_list": ${ comma_and_list(protected_minor_kids_list ) if protect_shared_kids else ''}
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }

    - "eop": ${ eop }
    - "pop": ${ pop }

    - "hide_address": ${ hide_address }
    - "notice_address_one_line": ${ users[0].address.on_one_line(bare=True) if hide_address else ""}
    - "petitioner_notice_email": ${ users[0].email if (users[0].email_notice and hide_address) else ""}
    - "show_address": ${ not hide_address }
    - "home_address_one_line": ${ users[0].address.on_one_line(bare=True) if not hide_address else "" }
    - "petitioner_home_email": ${ users[0].email if (users[0].email_notice and not hide_address) else ""}
    
    
      # page 2
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ other_parties[0].birthdate_info }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_home_address": |
        % if other_parties[0].address.address != "":
        % if knows_respondent_home:
        ${ other_parties[0].address.on_one_line(bare=True) }
        % else:
        ${ "Last known: " + other_parties[0].address.on_one_line(bare=True) }
        % endif
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_info": |
        % if knows_respondent_work:
        ${ other_parties[0].employer + ", " + other_parties[0].work_address.on_one_line(bare=True) }
        % else:
        ${ "do not know" }
        % endif

    - "relationship_se": ${ relationship_type['se'] }
    - "relationship_xs": ${ relationship_type['xs'] }
    - "relationship_bg": ${ relationship_type['bg'] }
    - "relationship_cc": ${ relationship_type['cc'] }
    - "relationship_cs": ${ relationship_type['cs'] }
    - "relationship_ch": ${ relationship_type['ch'] }
    - "relationship_pa": ${ relationship_type['pa'] }
    - "relationship_sb": ${ relationship_type['sb'] }
    - "relationship_of": ${ relationship_type['of'] }
    - "relationship_il": ${ relationship_type['il'] }
    - "relationship_sc": ${ relationship_type['sc'] }
    - "relationship_ss": ${ relationship_type['ss'] }
    - "relationship_sp": ${ relationship_type['sp'] }
    - "relationship_gc": ${ relationship_type['gc'] }
    - "relationship_gp": ${ relationship_type['gp'] }
    - "relationship_pc": ${ relationship_type['pc'] }
    - "relationship_pr": ${ relationship_type['pr'] }
    - "relationship_f": ${ relationship_type['f'] }
    - "relationship_a": ${ relationship_type['a'] }
    - "relationship_l": ${ relationship_type['l'] }
    - "relationship_ot": ${ relationship_type['ot'] }
    - "relationship_pd": ${ relationship_type['pd'] }

    - "has_other_ops_yes": ${ has_other_ops == "Yes" }
    - "has_other_ops_no": ${ has_other_ops == "No" }
    - "has_other_ops_idk": ${ has_other_ops == "I don't know" }
    - "other_ops_people_1": ${ other_ops[0].name.text }
    - "other_ops_state_county_1": ${ other_ops[0].state + ", " + other_ops[0].county }
    - "other_ops_year_1": ${ other_ops[0].year }
    - "other_ops_people_2": ${ other_ops[1].name.text }
    - "other_ops_state_county_2": ${ other_ops[1].state + ", " + other_ops[1].county }
    - "other_ops_year_2": ${ other_ops[1].year }
    - "other_ops_additional": ${ other_ops.number() > 2 } 
    - "has_other_cases_yes": ${ has_other_cases == "Yes" }
    - "has_other_cases_no": ${ has_other_cases == "No" }
    - "has_other_cases_idk": ${ has_other_cases == "I don't know" }
    - "other_cases_type_1": ${ other_cases[0].name.text }
    - "other_cases_state_county_1": ${ other_cases[0].state + ", " + other_cases[0].county }
    - "other_cases_year_1": ${ other_cases[0].year }
    - "other_cases_type_2": ${ other_cases[1].name.text }
    - "other_cases_state_county_2": ${ other_cases[1].state + ", " + other_cases[1].county }
    - "other_cases_year_2": ${ other_cases[1].year }
    - "other_cases_additional": ${ other_cases.number() > 2 } 
    - "jurisdiction_petitioner_lives_here": ${ jurisdiction_type['I live here'] }
    - "jurisdiction_respondent_lives_here": ${ jurisdiction_type['Respondent lives here'] }
    - "jurisdiction_abuse_here": ${ jurisdiction_type['Abuse was here'] }
    - "jurisdiction_abuse_elsewhere": ${ jurisdiction_type['Abuse was elsewhere'] }

      # page 3
    - "incident_date_1": ${ incidents[0].date }
    - "incident_time_1": ${ incidents[0].time }
    - "incident_reason_1": ${ incidents[0].name.text }
    - "incident_date_2": ${ incidents[1].date }
    - "incident_time_2": ${ incidents[1].time }
    - "incident_reason_2": ${ incidents[1].name.text }
    - "incident_date_3": ${ incidents[2].date }
    - "incident_time_3": ${ incidents[2].time }
    - "incident_reason_3": ${ incidents[2].name.text }
    - "incident_date_4": ${ incidents[3].date }
    - "incident_time_4": ${ incidents[3].time }
    - "incident_reason_4": ${ incidents[3].name.text }
    - "additional_incidents": ${ incidents.number() > 4 }

    - "no_abuse": ${ any((no_harassment, no_physical, no_stalking, no_willful, no_intimidation, no_exploitation, no_neglect, no_interference)) }
    - "no_harassment": ${ no_harassment }
    - "no_physical": ${ no_physical }
    - "no_stalking": ${ no_stalking }
    - "no_willful": ${ no_willful }
    - "no_intimidation": ${ no_intimidation }
    - "no_exploitation": ${ no_exploitation }
    - "no_neglect": ${ no_neglect }
    - "no_interference": ${ no_interference}
    - "stay_away_checkbox": ${ any((no_communication, stay_away)) }
    - "no_communication": ${ no_communication }
    - "stay_away": ${ stay_away }

      # page 4
    - "possession_residence": ${ not (residence_remedies == 'none') }
    - "exclusive_possession": ${ residence_remedies == 'exclusive possession' }
    - "exclusive_home_address_checkbox": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "exclusive_home_address_one_line": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ users[0].address.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "exclusive_address_hidden": |
        % if hide_address and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "respondent_no_right_to_stay": ${ exclusive_possession_reason == "respondent_no_right_to_stay" }
    - "both_parties_right_to_stay": ${ exclusive_possession_reason == "both_parties_right_to_stay" }
    - "provide_alt_housing": ${ residence_remedies == 'provide alternate housing' }
      
      
    - "stay_away_locations": ${ any((stay_away_jobs, stay_away_schools, stay_away_other))}
    - "stay_away_jobs": ${ stay_away_jobs }
    - "stay_away_job_1": |
        % if hide_work_address and stay_away_jobs:
        ${ "Wherever protected party may be employed" }
        % elif stay_away_jobs:
        ${ jobs[0].employer + ", " + jobs[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_2": |
        % if hide_work_address and stay_away_jobs:
        ${ "" }
        % elif stay_away_jobs_2:
        ${ jobs[1].employer + ", " + jobs[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_schools": ${ stay_away_schools }
    - "stay_away_school_1": |
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
    - "stay_away_school_2": |
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
    - "confidential_schools__1": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools else False }
    
    - "stay_away_other": ${ stay_away_other }
    - "stay_away_other_1": |
        % if hide_other_address_1 and stay_away_other:
        ${ other_locations_hidden_description_1 }
        % elif stay_away_other:
        ${ other_locations[0].name + ", " + other_locations[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_2": |
        % if hide_other_address_2 and stay_away_other:
        ${ other_locations_hidden_description_2 }
        % elif stay_away_other_2:
        ${ other_locations[1].name + ", " + other_locations[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif

    - "same_school_restrictions": ${ True if (same_school and same_school_restrictions != "none") else ""} 
    - "same_school_name": ${ same_school_name if (same_school and same_school_restrictions != "none") else ""}


      # page 5
    - "same_school_not_attend": ${ True if (same_school and same_school_restrictions == "not attend") else ""}
    - "same_school_change_placement": ${ True if (same_school and same_school_restrictions == "change program") else ""}
    - "same_school_avoid_parts": ${ True if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "same_school_parts": ${ parts_of_school if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "respondent_parent_help": ${True if respondent_parent_help == "Yes" else ""}
    - "respondent_parent_name": ${ respondent_parent_name if respondent_parent_help == "Yes" else "" }
    - "respondent_parent_order": ${ respondent_parent_order if respondent_parent_help == "Yes" else "" }
    - "counseling": ${ request_counseling }    
    - "request_counseling": ${ request_counseling }    
    - "dv_counseling": ${ True if request_counseling and dv_counseling else '' }    
    - "alcohol_counseling": ${ True if request_counseling and alcohol_counseling else '' }    
    - "mental_health_counseling": ${ True if request_counseling and mental_health_counseling else '' } 
    - "other_counseling": ${ True if request_counseling and other_counseling else '' }    
    - "other_counseling_text": ${ other_counseling_text if request_counseling and other_counseling else '' }    
      
    - "care_and_possession_of_children": ${ minor_kids_with_respondent } 
    - "minor_kids_with_respondent": ${ minor_kids_with_respondent }
    - "shared_kids_1_name": ${ shared_kids[0].name.full(middle="full") }
    - "shared_kids_1_age": ${ shared_kids[0].age_in_years() }
    - "shared_kids_1_state": ${ shared_kids[0].address.state }
    - "shared_kids_1_include_yes": ${ shared_kids[0].protect }
    - "shared_kids_1_include_no": ${ shared_kids[0].protect is False }
    - "shared_kids_2_name": ${ shared_kids[1].name.full(middle="full") }
    - "shared_kids_2_age": ${ shared_kids[1].age_in_years() }
    - "shared_kids_2_state": ${ shared_kids[1].address.state }
    - "shared_kids_2_include_yes": ${ shared_kids[1].protect}
    - "shared_kids_2_include_no": ${ shared_kids[1].protect is False }
    - "shared_kids_3_name": ${ shared_kids[2].name.full(middle="full") }
    - "shared_kids_3_age": ${ shared_kids[2].age_in_years() }
    - "shared_kids_3_state": ${ shared_kids[2].address.state }
    - "shared_kids_3_include_yes": ${ shared_kids[2].protect }
    - "shared_kids_3_include_no": ${ shared_kids[2].protect is False }
    - "shared_kids_4_name": ${ shared_kids[3].name.full(middle="full") }
    - "shared_kids_4_age": ${ shared_kids[3].age_in_years() }
    - "shared_kids_4_state": ${ shared_kids[3].address.state }
    - "shared_kids_4_include_yes": ${ shared_kids[3].protect }
    - "shared_kids_4_include_no": ${ shared_kids[3].protect is False }
    - "parentage_cb": ${ minor_kids_with_respondent }
    - "parentage_not_established": ${ True if (parentage == "parentage_not_established" and minor_kids_with_respondent) else '' }
    - "parentage_established": ${ True if ((parentage == "parentage_established_by_marriage" or parentage == "parentage_established_other") and minor_kids_with_respondent) else '' }
    - "parentage_established_marriage": ${ True if (parentage == "parentage_established_by_marriage" and minor_kids_with_respondent) else '' }
    - "parentage_established_other": ${ True if (parentage == "parentage_established_other" and (parentage_vap == True or parentage_order == True) and minor_kids_with_respondent) else '' }
    - "parentage_other_text": ${ other_parentage_method if (minor_kids_with_respondent and parentage == "parentage_established_other") else '' }
    - "caretaker_cb": ${ minor_kids_with_respondent }
    - "caretaker_petitioner": ${ True if (primary_caretaker == "petitioner" and minor_kids_with_respondent) else '' }

      # page 6
    - "caretaker_respondent": ${ True if (primary_caretaker == "respondent" and minor_kids_with_respondent) else '' }
    - "caretaker_other": ${ True if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_name": ${ other_caretaker.name.full(middle="full") if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_address": ${ other_caretaker.address.on_one_line(bare=True) if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or ((schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent) else '' }
    # - "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or keep_schools_confidential else '' }

    - "physical_care_of_children": ${ True if physical_care_of_children and minor_kids_with_respondent else '' }
    - "return_children_possession": ${ True if (return_children_to == "petitioner" or return_children_to == "other") and minor_kids_with_respondent else '' }
    - "return_children_other_person": ${ return_children_other_person.name.full(middle="full") if return_children_to == "other" and minor_kids_with_respondent else '' }
    - "no_removal_school": ${ True if no_removal_school and minor_kids_with_respondent else '' }
    - "confidential_schools__2": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent else False }
    - "temp_custody_cb": ${ True if temp_custody_of_children and minor_kids_with_respondent else '' }
    - "requests_temp_custody": ${ True if temp_custody_of_children and minor_kids_with_respondent else '' }
    - "parenting_time_cb": ${ True if parenting_time and minor_kids_with_respondent else '' }
    - "parenting_time_grant": ${ True if parenting_time == "grant" and minor_kids_with_respondent else '' }
    - "parenting_time_reserve": ${ True if parenting_time == "reserve" and minor_kids_with_respondent else '' }
    - "parenting_time_deny": ${ True if parenting_time == "deny" and minor_kids_with_respondent else '' }
    - "parenting_time_restrict": ${ True if parenting_time == "restrict" and minor_kids_with_respondent else '' }
    - "no_pt_no_abuse": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_abuse"] and minor_kids_with_respondent else '' }
    - "no_pt_no_harass": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_harass"] and minor_kids_with_respondent else '' }
    - "no_pt_no_hide": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_hide"] and minor_kids_with_respondent else '' }
    - "no_pt_no_best_interest": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_best_interest"] and minor_kids_with_respondent else '' }
    - "pt_format": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and minor_kids_with_respondent else '' }
    - "pt_attach": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "attach" and minor_kids_with_respondent else ''  }
    - "pt_interview": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekdays": ${ True if pt_weekdays and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_list": ${ comma_and_list(dow_abb[int(y)] for y in pt_weekday_days.true_values()) if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent == True else '' }
    - "pt_weekday_start": ${ format_time(pt_weekday_start, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_end": ${ format_time(pt_weekday_end, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every": ${ True if pt_weekend_cadence == "every" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every_other": ${ True if pt_weekend_cadence == "other" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat": ${ True if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun": ${ True if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat": ${ True if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun": ${ True if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun": ${ True if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date_cb": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date": ${ pt_start_date if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }


      # page 7
    - "pt_holidays": ${ pt_holidays if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holiday_list": ${ pt_holiday_list if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_holiday_start": ${ format_time(pt_holiday_start, format='h:mm a') if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_holiday_end": ${ format_time(pt_holiday_end, format='h:mm a') if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_transportation_cb": ${ True if pt_transportation != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_transportation_person_name": |
        % if pt_transportation == "petitioner" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Petitioner" }
        % elif pt_transportation == "respondent" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Respondent" }
        % elif pt_transportation == "other" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_transportation_person.name.full(middle="full") }
        % else:
        ${ "" }
        % endif
    - "pt_pickup_location_cb": ${ True if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_pickup_location": |
        % if pt_pickup_location.name == "" and pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.on_one_line(bare=True) }
        % elif pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.name + ", " + pt_pickup_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location_cb": ${ True if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_return_location": |
        % if pt_return_location.name == "" and pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.on_one_line(bare=True) }
        % elif pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.name + ", " + pt_return_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_location_cb": ${ True if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_location": |
        % if pt_location.name == "" and pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.on_one_line(bare=True) }
        % elif pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.name + ", " + pt_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_supervised": ${ True if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervisor_name": ${ pt_supervisor.name.full(middle="full") if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervised_center_cb": ${ True if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_immediate_return_cb": ${ True if pt_immediate_return == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "appear_with_children_cb": ${ True if return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_prevent": ${ True if appear_with_children_prevent and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_return": ${ True if appear_with_children_return and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_exam": ${ True if appear_with_children_exam and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "no_conceal_children_cb": ${ True if no_conceal_children and minor_kids_with_respondent else '' }

    - "return_property_cb": ${ True if (award_personal_property or respondent_one_time_entry) else "" }
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "petitioner_property_awarded_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property]) if award_personal_property else "" }
    - "respondent_ordered_return_property_cb": ${ True if award_personal_property == True and return_property == True else "" }
    - "petitioner_property_ordered_return_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) if (award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_petitioner_owns": ${ True if (return_property_reason == "petitioner owns" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_both_own": ${ True if (return_property_reason == "both own" and award_personal_property == True and return_property == True) else "" }

     # page 8
    - "return_property_reason_divorce": ${ True if (return_property_reason == "divorce" and award_personal_property == True and return_property == True) else "" }
    - "divorce_filed_yes": ${ True if (divorce_filed == True and award_personal_property == True and return_property == True and return_property_reason == "divorce") else "" }
    - "divorce_filed_no": ${ True if (divorce_filed == False and award_personal_property == True and return_property == True and return_property_reason == "divorce") else "" }
    - "return_respo_property": ${ True if return_respo_property else '' }
    - "return_respo_clothes": ${ True if (return_respo_property == True and respo_property['clothes'] == True) else '' }
    - "return_respo_medicine": ${ True if (return_respo_property == True and respo_property['medicine'] == True) else '' }
    - "return_respo_property_other": ${ True if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "return_respo_property_list": ${ respo_property_other if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "property_transfer_location_cb": ${ True if property_transfer_location_cb == True else '' }
    - "property_transfer_location": ${ property_transfer_location.on_one_line(bare=True) if property_transfer_location_cb == True else '' }
    - "property_transfer_present_cb": ${ True if property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_cb": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_name": ${ property_transfer_police if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_cb": ${ True if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_name": ${ other_transfer_property_person.name.full(middle="full") if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_date": ${ property_transfer_date if property_transfer_know_date == True else '' }
    - "property_transfer_time": ${ format_time(property_transfer_time, format='h:mm a') if property_transfer_know_date == True else ''  }
    - "property_restrictions_cb": ${ True if restrict_other_property == True or restrict_elderly_petitioner_resources == "Yes" else "" }
    - "restrict_property_cb": ${ True if restrict_other_property == True else "" }
    - "restricted_property_list": ${ restricted_property.rstrip('.') if restrict_other_property == True else "" }
    - "restrict_property_reason_petitioner_owns": ${ True if (restrict_property_reason == "petitioner" and restrict_other_property == True) else "" }
    - "restrict_property_reason_both_own": ${ True if restrict_property_reason == "both" and restrict_other_property == True else "" }
    - "restrict_property_reason_divorce": ${ True if restrict_property_reason == "divorce" and restrict_other_property == True else "" }
    - "restrict_divorce_filed_yes": ${ True if restrict_divorce_filed == True and restrict_other_property == True and restrict_property_reason == "divorce" else "" }
    - "restrict_divorce_filed_no": ${ True if restrict_divorce_filed == False and restrict_other_property == True and restrict_property_reason == "divorce" else "" }
    - "restrict_property_elderly_petitioner": ${ True if restrict_elderly_petitioner_resources == "Yes" else '' }
    - "possession_of_animals": ${ True if possession_of_animals else "" }
    - "animals_list": ${ comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets]) if possession_of_animals else "" }
    - "temp_support_cb": |
        % if temp_child_support and minor_kids_with_respondent:
        ${ True }
        % elif relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif        
    - "temp_child_support": ${ True if (temp_child_support == True and minor_kids_with_respondent == True) else '' }
    - "temp_maintenance": |
        % if relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif        
    - "payment_for_losses_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_any_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_medical": |
        % if not expenses_none:
        ${ expenses_medical }
        % endif
    - "expenses_medical_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_medical_amount, show_decimals=True) }
        % endif

      # page 9
    - "expenses_lost_income":  |
        % if not expenses_none:
        ${ expenses_lost_income }
        % endif
    - "expenses_lost_income_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lost_income_amount, show_decimals=True) }
        % endif
    - "expenses_property":  |
        % if not expenses_none:
        ${ expenses_property }
        % endif
    - "expenses_property_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_property_amount, show_decimals=True) }
        % endif
    - "expenses_moving":  |
        % if not expenses_none:
        ${ expenses_moving }
        % endif
    - "expenses_moving_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_moving_amount, show_decimals=True) }
        % endif
    - "expenses_housing":  |
        % if not expenses_none:
        ${ expenses_housing }
        % endif
    - "expenses_housing_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_housing_amount, show_decimals=True) }
        % endif
    - "expenses_children":  |
        % if not expenses_none:
        ${ expenses_children }
        % endif
    - "expenses_children_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_children_amount, show_decimals=True) }
        % endif
    - "expenses_lawyer":  |
        % if not expenses_none:
        ${ expenses_lawyer }
        % endif
    - "expenses_lawyer_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lawyer_amount, show_decimals=True) }
        % endif
    - "expenses_other":  |
        % if not expenses_none:
        ${ expenses_other }
        % endif
    - "expenses_other_kind":  |
        % if not expenses_none:
        ${ expenses_other_kind }
        % endif
    - "expenses_other_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_other_amount, show_decimals=True) }
        % endif      
        
    - "no_stay_under_influence": ${ no_stay_under_influence if not (stay_away or no_communication or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
    
    - "firearms_cb": ${ True if firearms_turnover else '' }
    - "firearms_turnover": ${ True if firearms_turnover else '' }
    - "firearms_not_intimate_partner": ${ "*Respondent is not an intimate partner of Petitioner.*" if firearms_turnover == True and intimate_partner != "Yes" else "" }    
    - "respondent_violent": ${ True if firearms_reasons['violence'] == True else ''  }
    - "respondent_firearms_history": ${ True if firearms_reasons['use'] == True else ''  }
    - "respondent_firearms_on_person": ${ True if firearms_reasons['vehicle'] == True else ''  }
    - "respondent_car_details": |
        % if firearms_reasons['vehicle'] == True:
        ${ respondent_car_make } ${ respondent_car_model }
        % endif
    - "respondent_threat": ${ True if firearms_reasons['safety'] == True else ''  }
    - "respondent_suicidal": ${ True if firearms_reasons['suicidal'] == True else ''  }    
    
    - "childrens_records_cb": ${ True if minor_kids_with_respondent and ( no_records_no_contact or no_records_hide_address or no_records_no_removal ) else "" }
    - "no_records_no_contact": ${ True if minor_kids_with_respondent and no_records_no_contact else "" }
    - "no_records_hide_address": ${ True if minor_kids_with_respondent and no_records_hide_address else "" }
    - "no_records_no_removal": ${ True if minor_kids_with_respondent and no_records_no_removal else "" }
    - "expenses_shelter":  |
        % if not expenses_none:
        ${ expenses_shelter }
        % endif
    - "expenses_shelter_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_shelter_amount, show_decimals=True) }
        % endif

    - "misc_remedies_cb": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_text": ${ misc_remedies_text }


      # page 10
    - "misc_remedies_because_text": ${ misc_remedies_because_text if misc_remedies_text != '' else '' }
    - "separate_phone_service_cb": ${ True if separate_phone_service else '' }
    - "phone_provider": ${ phone_provider if separate_phone_service else '' }
    - "phone_account_holder": |
        % if phone_account_holder == 'respondent' and separate_phone_service == True:
        ${other_parties[0].name.full(middle="full")}
        % elif phone_account_holder == 'other' and separate_phone_service == True:
        ${ other_phone_account_holder.name.full(middle="full") }
        % endif
    - "billing_phone_number": ${ phone_number_formatted(billing_phone_number) if separate_phone_service else '' }
    - "cell_number_1": ${ phone_number_formatted(cell_numbers[0].name.text) if separate_phone_service else '' }
    - "cell_number_2": ${ phone_number_formatted(cell_numbers[1].name.text) if separate_phone_service else '' }
    - "cell_number_3": ${ phone_number_formatted(cell_numbers[2].name.text) if separate_phone_service else '' }
    - "cell_number_4": ${ phone_number_formatted(cell_numbers[3].name.text) if separate_phone_service else '' }
    - "petitioner_signature": ${ users[0].name.full(middle="full") if e_signature else '' }

    - "preparer_name": ${ users[0].name.full(middle="full") }
    - "preparer_address_line_1": ${ users[0].address.line_one(bare=True) }
    - "preparer_address_line_2": ${ users[0].address.line_two() }
    - "preparer_phone": ${ phone_number_formatted(users[0].phone_number) }
    - "preparer_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: op_schools[i]
  name: confidential_schools
  filename: confidential_schools
  skip undefined: True
  editable: False
  pdf template file: op_schools.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }

    - "school_1_kids": ${ comma_and_list(schools[0].kids_who_attend.true_values()) if schools[0].hide == True else '' }
    - "school_1_name": ${ schools[0].name if schools[0].hide == True else ''}
    - "school_1_type_school": ${ True if (schools[0].hide == True and schools[0].type=='school') else '' }
    - "school_1_type_daycare": ${ True if (schools[0].hide == True and schools[0].type=='daycare') else '' }
    - "school_1_address": ${ schools[0].on_one_line(bare=True) if schools[0].hide == True else '' }
    - "school_2_kids": ${ comma_and_list(schools[1].kids_who_attend.true_values())  if schools[1].hide == True else ''}
    - "school_2_name": ${ schools[1].name if schools[1].hide == True else '' }
    - "school_2_type_school": ${ True if (schools[1].hide == True and schools[1].type=='school') else '' }
    - "school_2_type_daycare": ${ True if (schools[1].hide == True and schools[1].type=='daycare') else '' }
    - "school_2_address": ${ schools[1].on_one_line(bare=True) if schools[1].hide == True else '' }
---
attachment:
  variable name: additional_incidents[i]
  name: additional_incidents
  filename: additional_incidents
  skip undefined: True
  editable: False
  pdf template file: additional_incidents.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    #- "shared_kids_list": ${ comma_and_list(protected_minor_kids_list ) if protect_shared_kids else ''}
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }
    - "incident_date_1": ${ incidents[4].date }
    - "incident_time_1": ${ incidents[4].time }
    - "incident_reason_1": ${ incidents[4].name.text }
    - "incident_date_2": ${ incidents[5].date }
    - "incident_time_2": ${ incidents[5].time }
    - "incident_reason_2": ${ incidents[5].name.text }
    - "incident_date_3": ${ incidents[6].date }
    - "incident_time_3": ${ incidents[6].time }
    - "incident_reason_3": ${ incidents[6].name.text }
    - "incident_date_4": ${ incidents[7].date }
    - "incident_time_4": ${ incidents[7].time }
    - "incident_reason_4": ${ incidents[7].name.text }
    - "incident_date_5": ${ incidents[8].date }
    - "incident_time_5": ${ incidents[8].time }
    - "incident_reason_5": ${ incidents[8].name.text }
---
attachment:
  variable name: additional_cases[i]
  name: additional_cases
  filename: additional_cases
  skip undefined: True
  editable: False
  pdf template file: additional_cases.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    #- "shared_kids_list": ${ comma_and_list(protected_minor_kids_list ) if protect_shared_kids else ''}
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }
    - "other_ops_people_1": ${ other_ops[2].name.text }
    - "other_ops_state_county_1": ${ other_ops[2].state + ", " + other_ops[2].county }
    - "other_ops_year_1": ${ other_ops[2].year }
    - "other_ops_people_2": ${ other_ops[3].name.text }
    - "other_ops_state_county_2": ${ other_ops[3].state + ", " + other_ops[3].county }
    - "other_ops_year_2": ${ other_ops[3].year }
    - "other_ops_people_3": ${ other_ops[4].name.text }
    - "other_ops_state_county_3": ${ other_ops[4].state + ", " + other_ops[4].county }
    - "other_ops_year_3": ${ other_ops[4].year }
    - "other_ops_people_4": ${ other_ops[5].name.text }
    - "other_ops_state_county_4": ${ other_ops[5].state + ", " + other_ops[5].county }
    - "other_ops_year_4": ${ other_ops[5].year }
    - "other_ops_people_5": ${ other_ops[6].name.text }
    - "other_ops_state_county_5": ${ other_ops[6].state + ", " + other_ops[6].county }
    - "other_ops_year_5": ${ other_ops[6].year }
    - "other_ops_people_6": ${ other_ops[7].name.text }
    - "other_ops_state_county_6": ${ other_ops[7].state + ", " + other_ops[7].county }
    - "other_ops_year_6": ${ other_ops[7].year }
    - "other_ops_people_7": ${ other_ops[8].name.text }
    - "other_ops_state_county_7": ${ other_ops[8].state + ", " + other_ops[8].county }
    - "other_ops_year_7": ${ other_ops[8].year }

    - "other_cases_type_1": ${ other_cases[2].name.text }
    - "other_cases_state_county_1": ${ other_cases[2].state + ", " + other_cases[2].county }
    - "other_cases_year_1": ${ other_cases[2].year }
    - "other_cases_type_2": ${ other_cases[3].name.text }
    - "other_cases_state_county_2": ${ other_cases[3].state + ", " + other_cases[3].county }
    - "other_cases_year_2": ${ other_cases[3].year }
    - "other_cases_type_3": ${ other_cases[4].name.text }
    - "other_cases_state_county_3": ${ other_cases[4].state + ", " + other_cases[4].county }
    - "other_cases_year_3": ${ other_cases[4].year }
    - "other_cases_type_4": ${ other_cases[5].name.text }
    - "other_cases_state_county_4": ${ other_cases[5].state + ", " + other_cases[5].county }
    - "other_cases_year_4": ${ other_cases[5].year }
    - "other_cases_type_5": ${ other_cases[6].name.text }
    - "other_cases_state_county_5": ${ other_cases[6].state + ", " + other_cases[6].county }
    - "other_cases_year_5": ${ other_cases[6].year }
    - "other_cases_type_6": ${ other_cases[7].name.text }
    - "other_cases_state_county_6": ${ other_cases[7].state + ", " + other_cases[7].county }
    - "other_cases_year_6": ${ other_cases[7].year }
    - "other_cases_type_7": ${ other_cases[8].name.text }
    - "other_cases_state_county_7": ${ other_cases[8].state + ", " + other_cases[8].county }
    - "other_cases_year_7": ${ other_cases[8].year }
---
attachment:
  variable name: affidavit_pt_supervisor[i]
  name: affidavit_pt_supervisor
  filename: affidavit_pt_supervisor
  skip undefined: True
  editable: False
  pdf template file: affidavit_pt_supervisor.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    #- "shared_kids_list": ${ comma_and_list(protected_minor_kids_list ) if protect_shared_kids else ''}
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }
    - "pt_supervisor_name": ${ pt_supervisor.name.full(middle="full") if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
---
attachment:
  variable name: efiling_exemption[i]
  name: efiling_exemption
  filename: efiling_exemption
  skip undefined: True
  editable: False
  pdf template file: efiling_exemption.pdf
  fields:
    - "county": ${ trial_court.address.county }
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "reason_dv": ${ True }
    - "e_signature": ${ users[0].name.full(middle="full") if e_signature else '' }
    - "petitioner__2": ${ users[0].name.full(middle="full") }
    - "user_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "user_phone_number": ${ phone_number_formatted(users[0].phone_number) }
    - "user_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: op_summons[i]
  name: op_summons
  filename: op_summons
  skip undefined: True
  editable: False
  pdf template file: op_summons.pdf
  fields:
    - "county__1": ${ trial_court.address.county.upper() }
    - "county__2": ${ trial_court.address.county.upper() }
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "petitioner__2": ${ users[0].name.full(middle="full") }
    - "petitioner__3": ${ users[0].name.full(middle="full") }
    - "respondent__1": ${other_parties[0].name.full(middle="full")}
    - "respondent__4": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "case_number__3": ${ case_number }
    - "respondent__2": ${other_parties[0].name.full(middle="full")}
    - "service_address_line_1": |
        % if service_address_choice == "other":
        ${ service_address.line_one(bare=True) }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
    - "service_address_csz": |
        % if service_address_choice == "other":
        ${ service_address.line_two() }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.line_two() }        
        % else:
        ${ other_parties[0].work_address.line_two() }        
        % endif
    - "respondent_phone": ${ phone_number_formatted(other_parties[0].phone_number) }
    - "respondent_email": ${ other_parties[0].email }
    - "respondent__3": ${other_parties[0].name.full(middle="full") if has_second_service_address == True else ""}
    - "service_alt_address_line_1": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.line_one(bare=True) }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
        % endif
    - "service_alt_address_csz": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.line_two() }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.line_two() }        
        % else:
        ${ other_parties[0].work_address.line_two() }        
        % endif
        % endif
    - "respondent_alt_phone": ${ phone_number_formatted(other_parties[0].phone_number_alt) if has_second_service_address == True else "" }
    - "respondent_alt_email": ${ other_parties[0].email_alt if has_second_service_address == True else "" }

    - "service_method_sheriff": ${ True if service_method == "sheriff" and service_state == "IL" else ""}
    - "service_method_sheriff_outside_il": ${ True if service_method == "sheriff" and service_state != "IL" else ""}
    - "service_location_outside_il": |
        % if service_method == "sheriff" and service_state != "IL":
        ${ service_county + ", " + service_state }
        % endif
    - "service_method_sps": ${ True if service_method == "sps" else "" }
    - "service_method_detective": ${ True if service_method == "detective" else "" }
    - "protective_order_type_op": ${ True }
    - "court_date_on_attached": ${ True }
    - "show_address": ${ not hide_address }
    - "hide_address": ${ hide_address }
    - "user_mail_address_line_one": ${ users[0].address.line_one(bare=True) }
    - "user_mail_address_city_state_zip": ${ users[0].address.line_two() }
    - "user_phone_number": ${ phone_number_formatted(users[0].phone_number) }
    - "user_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: emergency_op[i]
  name: emergency_op
  filename: emergency_op
  skip undefined: True
  editable: False
  pdf template file: emergency_op.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "civil_proceeding": True
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "petitioner__2": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "case_number__3": ${ case_number }
    - "case_number__4": ${ case_number }
    - "case_number__5": ${ case_number }
    - "case_number__6": ${ case_number }
    - "case_number__7": ${ case_number }
    - "case_number__8": ${ case_number }
    - "case_number__9": ${ case_number }
    - "case_number__10": ${ case_number }
    - "case_number__11": ${ case_number }
    - "case_number__12": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }
    
      # page 2
    - "show_address": ${ not hide_address }
    - "hide_address": ${ hide_address }
    - "notice_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "petitioner_notice_email": ${ users[0].email if users[0].email_notice else ""}
    - "respondent_gender": |
        % if trial_court_index == -1:
        ${ other_parties[0].sex_other if other_parties[0].sex == 'other' else other_parties[0].sex }
        % else:
        ${ respondent_gender_other if other_parties[0].gender == 'other' else other_parties[0].gender }
        % endif
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ other_parties[0].birthdate_info }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_home_address": |
        % if other_parties[0].address.address != "":
        % if knows_respondent_home:
        ${ other_parties[0].address.on_one_line(bare=True) }
        % else:
        ${ "Last known: " + other_parties[0].address.on_one_line(bare=True) }
        % endif
        % else:
        ${ "do not know" }
        % endif
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and other_parties[0].work_hours != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.on_one_line(bare=True) }
        % else:
        ${ "do not know" }
        % endif

    - "no_abuse": ${ any((no_harassment, no_physical, no_stalking, no_willful, no_intimidation, no_exploitation, no_neglect, no_interference)) }
    - "no_harassment": ${ no_harassment }
    - "no_physical": ${ no_physical }
    - "no_stalking": ${ no_stalking }
    - "no_willful": ${ no_willful }
    - "no_intimidation": ${ no_intimidation }
    - "no_exploitation": ${ no_exploitation }
    - "no_neglect": ${ no_neglect }
    - "no_interference": ${ no_interference}

    - "possession_residence": ${ not (residence_remedies == 'none') }
    - "exclusive_possession": ${ residence_remedies == 'exclusive possession' }
    - "exclusive_home_address_checkbox": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "exclusive_home_address_one_line": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ users[0].address.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "exclusive_address_hidden": |
        % if hide_address and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "respondent_no_right_to_stay": ${ exclusive_possession_reason == "respondent_no_right_to_stay" }
    - "both_parties_right_to_stay": ${ exclusive_possession_reason == "both_parties_right_to_stay" }
      
      # page 3
    - "stay_away_checkbox": ${ any((no_communication, stay_away)) }
    - "no_communication": ${ no_communication }
    - "stay_away": ${ stay_away }
    #- "stay_away_feet_cb": ${ True if (stay_away and stay_away_distance != None) else "" }
    #- "stay_away_feet": ${ stay_away_distance if stay_away else "" }
      
    - "stay_away_locations": ${ any((stay_away_jobs, stay_away_schools, stay_away_other))}
    - "stay_away_jobs": ${ stay_away_jobs }
    - "stay_away_job_1": |
        % if hide_work_address and stay_away_jobs:
        % if trial_court_index == 71:
        ${ "" }
        % else:
        ${ "Wherever protected party may be employed" }
        % endif
        % elif stay_away_jobs:
        ${ jobs[0].employer + ", " + jobs[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_2": |
        % if hide_work_address and stay_away_jobs:
        ${ "" }
        % elif stay_away_jobs_2:
        ${ jobs[1].employer + ", " + jobs[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_schools": ${ stay_away_schools }
    - "stay_away_school_1": |
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
    - "stay_away_school_2": |
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
    - "confidential_schools__1": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools else False }
    
    - "stay_away_other": ${ stay_away_other }
    - "stay_away_other_1": |
        % if hide_other_address_1 and stay_away_other:
        ${ other_locations_hidden_description_1 }
        % elif stay_away_other:
        ${ other_locations[0].name + ", " + other_locations[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_2": |
        % if hide_other_address_2 and stay_away_other:
        ${ other_locations_hidden_description_2 }
        % elif stay_away_other_2:
        ${ other_locations[1].name + ", " + other_locations[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif

    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "respondent_one_time_entry_police": ${ True if respondent_one_time_entry == True and property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_other_cb": ${ True if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_name": ${ other_transfer_property_person.name.full(middle="full") if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }

    - "same_school_restrictions": ${ True if (same_school and same_school_restrictions != "none") else ""} 
    - "same_school_name": ${ same_school_name if (same_school and same_school_restrictions != "none") else ""}

    - "same_school_not_attend": ${ True if (same_school and same_school_restrictions == "not attend") else ""}
    - "same_school_change_placement": ${ True if (same_school and same_school_restrictions == "change program") else ""}
    - "same_school_avoid_parts": ${ True if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "same_school_parts": ${ parts_of_school if (same_school and same_school_restrictions == "not present in parts") else ""}

    - "respondent_parent_help": ${True if respondent_parent_help == "Yes" else ""}
    - "respondent_parent_name": ${ respondent_parent_name if respondent_parent_help == "Yes" else "" }
    - "respondent_parent_order": ${ respondent_parent_order if respondent_parent_help == "Yes" else "" }

      # page 4

    - "care_and_possession_of_children": ${ minor_kids_with_respondent } 
    - "minor_kids_with_respondent": ${ minor_kids_with_respondent }
    - "shared_kids_1_name": ${ shared_kids[0].name.full(middle="full") }
    - "shared_kids_1_age": ${ shared_kids[0].age_in_years() }
    - "shared_kids_1_state": ${ shared_kids[0].address.state }
    - "shared_kids_1_include_yes": ${ shared_kids[0].protect }
    - "shared_kids_1_include_no": ${ shared_kids[0].protect is False }
    - "shared_kids_2_name": ${ shared_kids[1].name.full(middle="full") }
    - "shared_kids_2_age": ${ shared_kids[1].age_in_years() }
    - "shared_kids_2_state": ${ shared_kids[1].address.state }
    - "shared_kids_2_include_yes": ${ shared_kids[1].protect}
    - "shared_kids_2_include_no": ${ shared_kids[1].protect is False }
    - "shared_kids_3_name": ${ shared_kids[2].name.full(middle="full") }
    - "shared_kids_3_age": ${ shared_kids[2].age_in_years() }
    - "shared_kids_3_state": ${ shared_kids[2].address.state }
    - "shared_kids_3_include_yes": ${ shared_kids[2].protect }
    - "shared_kids_3_include_no": ${ shared_kids[2].protect is False }
    - "shared_kids_4_name": ${ shared_kids[3].name.full(middle="full") }
    - "shared_kids_4_age": ${ shared_kids[3].age_in_years() }
    - "shared_kids_4_state": ${ shared_kids[3].address.state }
    - "shared_kids_4_include_yes": ${ shared_kids[3].protect }
    - "shared_kids_4_include_no": ${ shared_kids[3].protect is False }
    - "parentage_cb": ${ minor_kids_with_respondent }
    - "parentage_not_established": ${ True if (parentage == "parentage_not_established" and minor_kids_with_respondent) else '' }
    - "parentage_established": ${ True if ((parentage == "parentage_established_by_marriage" or parentage == "parentage_established_other") and minor_kids_with_respondent) else '' }
    - "parentage_established_marriage": ${ True if (parentage == "parentage_established_by_marriage" and minor_kids_with_respondent) else '' }
    - "parentage_established_other": ${ True if (parentage == "parentage_established_other" and (parentage_vap == True or parentage_order == True) and minor_kids_with_respondent) else '' }
    - "parentage_other_text": ${ other_parentage_method if (minor_kids_with_respondent and parentage == "parentage_established_other") else '' }
    - "caretaker_cb": ${ minor_kids_with_respondent }
    - "caretaker_petitioner": ${ True if (primary_caretaker == "petitioner" and minor_kids_with_respondent) else '' }

    - "caretaker_respondent": ${ True if (primary_caretaker == "respondent" and minor_kids_with_respondent) else '' }
    - "caretaker_other": ${ True if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_name": ${ other_caretaker.name.full(middle="full") if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_address": ${ other_caretaker.address.on_one_line(bare=True) if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    # care_and_possession_cb not used in orders
    #- "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or ((schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent) else '' }
    - "physical_care_of_children": ${ True if physical_care_of_children and minor_kids_with_respondent else '' }
    
    - "return_children_possession": ${ True if (return_children_to == "petitioner" or return_children_to == "other") and minor_kids_with_respondent else '' }
    - "return_children_petitioner_cb": ${ True if return_children_to == "petitioner" and minor_kids_with_respondent else '' }
    - "return_children_other_cb": ${ True if return_children_to == "other" and minor_kids_with_respondent else '' }    
    - "return_children_other_person": ${ return_children_other_person.name.full(middle="full") if return_children_to == "other" and minor_kids_with_respondent else '' }
    - "return_children_location_cb": ${ True if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_location": ${ return_children_location.on_one_line(bare=True) if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_on": ${ True if on_or_by == "on" and knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_by": ${ True if on_or_by == "by" and knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_date": ${ return_children_date if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_time": ${ format_time(return_children_time, format='h:mm a') if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_present_name": ${ return_children_present_name if knows_return_children_details and return_children_present and minor_kids_with_respondent else "" }
    
    - "no_removal_school": ${ True if no_removal_school and minor_kids_with_respondent else '' }
    - "no_removal_schools_list": |
        % if no_removal_school and minor_kids_with_respondent:    
        % if stay_away_schools:
        % if schools[0].hide:
        ${ "School 1: Confidential  " }
        % else:
        ${ schools[0].name + "  " }
        % endif
        % endif
        % if stay_away_schools_2:
        % if schools[1].hide:
        ${ "School 2: Confidential" }
        % else:
        ${ schools[1].name }
        % endif
        % endif
        % endif

    - "schools_get_order": ${ True if stay_away_schools and minor_kids_with_respondent else '' }
    
      # page 5
    - "get_order_school_1": |
        % if minor_kids_with_respondent:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
    - "get_order_school_2": |
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
    - "confidential_schools__2": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent else False }
    - "parenting_time_cb": ${ True if parenting_time and minor_kids_with_respondent else '' }
    - "parenting_time_grant": ${ True if parenting_time == "grant" and minor_kids_with_respondent else '' }
    - "parenting_time_reserve": ${ True if parenting_time == "reserve" and minor_kids_with_respondent else '' }
    - "parenting_time_deny": ${ True if parenting_time == "deny" and minor_kids_with_respondent else '' }
    - "parenting_time_restrict": ${ True if parenting_time == "restrict" and minor_kids_with_respondent else '' }
    - "no_pt_no_abuse": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_abuse"] and minor_kids_with_respondent else '' }
    - "no_pt_no_harass": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_harass"] and minor_kids_with_respondent else '' }
    - "no_pt_no_hide": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_hide"] and minor_kids_with_respondent else '' }
    - "no_pt_no_best_interest": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_best_interest"] and minor_kids_with_respondent else '' }
    - "pt_format": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and minor_kids_with_respondent else '' }
    - "pt_attach": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "attach" and minor_kids_with_respondent else ''  }
    - "pt_interview": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekdays": ${ True if pt_weekdays and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_list": ${ comma_and_list(dow_abb[int(y)] for y in pt_weekday_days.true_values()) if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent == True else '' }
    - "pt_weekday_start": ${ format_time(pt_weekday_start, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_end": ${ format_time(pt_weekday_end, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every": ${ True if pt_weekend_cadence == "every" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every_other": ${ True if pt_weekend_cadence == "other" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat": ${ True if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun": ${ True if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat": ${ True if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun": ${ True if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun": ${ True if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date_cb": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date": ${ pt_start_date if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holidays": ${ pt_holidays if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holiday_list": ${ pt_holiday_list if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_holiday_start": ${ format_time(pt_holiday_start, format='h:mm a') if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_holiday_end": ${ format_time(pt_holiday_end, format='h:mm a') if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_transportation_cb": ${ True if pt_transportation != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_transportation_person_name": |
        % if pt_transportation == "petitioner" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Petitioner" }
        % elif pt_transportation == "respondent" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Respondent" }
        % elif pt_transportation == "other" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_transportation_person.name.full(middle="full") }
        % else:
        ${ "" }
        % endif
    - "pt_pickup_location_cb": ${ True if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_pickup_location": |
        % if pt_pickup_location.name == "" and pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.on_one_line(bare=True) }
        % elif pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.name + ", " + pt_pickup_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location_cb": ${ True if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_return_location": |
        % if pt_return_location.name == "" and pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.on_one_line(bare=True) }
        % elif pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.name + ", " + pt_return_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_location_cb": ${ True if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

      # page 6
    - "pt_location": |
        % if pt_location.name == "" and pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.on_one_line(bare=True) }
        % elif pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.name + ", " + pt_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_supervised": ${ True if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervisor_name": ${ pt_supervisor.name.full(middle="full") if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervised_center_cb": ${ True if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_visitation_center_name": ${ pt_visitation_center_name  if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") and pt_visitation_center_name != "" else "" }    
    - "pt_immediate_return_cb": ${ True if pt_immediate_return == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "no_conceal_children_cb": ${ True if no_conceal_children and minor_kids_with_respondent else '' }

    - "order_to_appear_cb": ${ True if return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_cb": ${ True if return_children_to == "court" and minor_kids_with_respondent else '' }
    # not used - "appear_alone_cb": ${ True if appear_alone_for_exam == True and return_children_to != "court" else '' }
    - "appear_with_children_prevent": ${ True if appear_with_children_prevent and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_return": ${ True if appear_with_children_return and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_exam": ${ True if appear_with_children_exam and return_children_to == "court" and minor_kids_with_respondent else '' }

    - "return_property_cb": ${ True if (award_personal_property or respondent_one_time_entry) else "" }
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "petitioner_property_awarded_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property]) if award_personal_property else "" }
    - "respondent_ordered_return_property_cb": ${ True if award_personal_property == True and return_property == True else "" }
    - "return_all_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] == [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "return_some_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "petitioner_property_ordered_return_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) if ([item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True) else "" }
    - "return_property_person": |
        % if award_personal_property == True and return_property == True: 
        % if return_property_person == "petitioner":
        ${ "Petitioner" }
        % elif return_property_person == 'other':
        ${ other_return_property_person.name.full(middle="full") }
        % endif
        % endif
    
    - "return_property_reason_petitioner_owns": ${ True if (return_property_reason == "petitioner owns" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_both_own": ${ True if (return_property_reason == "both own" and award_personal_property == True and return_property == True) else "" }

    - "return_property_reason_divorce": ${ True if (return_property_reason == "divorce" and award_personal_property == True and return_property == True and divorce_filed == True) else "" }
    - "return_respo_property": ${ True if return_respo_property else '' }
    - "return_respo_clothes": ${ True if (return_respo_property == True and respo_property['clothes'] == True) else '' }
    - "return_respo_medicine": ${ True if (return_respo_property == True and respo_property['medicine'] == True) else '' }
    - "return_respo_property_other": ${ True if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "return_respo_property_list": ${ respo_property_other if (return_respo_property == True and respo_property['other'] == True) else '' }
    
     # page 7
    - "property_transfer_location_cb": ${ True if property_transfer_location_cb == True else '' }
    - "property_transfer_location": ${ property_transfer_location.on_one_line(bare=True) if property_transfer_location_cb == True else '' }
    - "property_transfer_present_cb": ${ True if property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_cb": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_name": ${ property_transfer_police if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_cb": ${ True if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_name": ${ other_transfer_property_person.name.full(middle="full") if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_date": ${ property_transfer_date if property_transfer_know_date == True else '' }
    - "property_transfer_time": ${ format_time(property_transfer_time, format='h:mm a') if property_transfer_know_date == True else ''  }
    - "request_police_at_transfer_petitioner": ${ True if request_police_person == "petitioner" and property_transfer_person == 'police' and property_transfer_present_cb == True else "" }    
    - "request_police_at_transfer_respondent": ${ True if request_police_person == "respondent" and property_transfer_person == 'police' and property_transfer_present_cb == True else "" }    
    
    - "property_restrictions_cb": ${ True if restrict_other_property == True or restrict_elderly_petitioner_resources == "Yes" else "" }
    - "restrict_property_cb": ${ True if restrict_other_property == True else "" }
    - "restricted_property_list": ${ restricted_property.rstrip('.') if restrict_other_property == True else "" }
    - "restrict_property_reason_petitioner_owns": ${ True if restrict_property_reason == "petitioner" and restrict_other_property == True else "" }
    - "restrict_property_reason_both_own": ${ True if restrict_property_reason == "both" and restrict_other_property == True else "" }
    - "restrict_divorce_filed_yes": ${ True if restrict_divorce_filed == True and restrict_other_property == True and restrict_property_reason == "divorce" else "" }
    - "restrict_property_elderly_petitioner": ${ True if restrict_elderly_petitioner_resources == "Yes" else '' }
    - "possession_of_animals": ${ True if possession_of_animals else "" }
    - "animals_list": ${ comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets]) if possession_of_animals else "" }
    - "no_stay_under_influence": ${ no_stay_under_influence if not (stay_away or no_communication or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
    - "firearms_cb": ${ True if firearms_turnover else '' }
    - "firearms_turnover": ${ True if firearms_turnover else '' }
    - "firearms_not_intimate_partner": ${ "*Respondent is not an intimate partner of Petitioner.*" if firearms_turnover == True and intimate_partner != "Yes" else "" }    
    - "firearms_remedy__1": ${ True if firearms_turnover else '' }
    - "firearms_remedy__2": ${ True if firearms_turnover else '' }
    - "firearms_remedy__3": ${ True if firearms_turnover else '' }

     # page 8

    - "firearms_remedy__4": ${ True if firearms_turnover else '' }
    - "firearms_remedy__5": ${ True if firearms_turnover else '' }
    - "firearms_remedy__6": ${ True if firearms_turnover else '' }

    - "childrens_records_cb": ${ True if minor_kids_with_respondent and ( no_records_no_contact or no_records_hide_address or no_records_no_removal ) else "" }
    - "no_records_no_contact": ${ True if minor_kids_with_respondent and no_records_no_contact else "" }
    - "no_records_hide_address": ${ True if minor_kids_with_respondent and no_records_hide_address else "" }
    - "no_records_no_removal": ${ True if minor_kids_with_respondent and no_records_no_removal else "" }

    - "misc_remedies_cb__1": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_cb__2": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_text": ${ misc_remedies_text }
    - "separate_phone_service_cb__1": ${ True if separate_phone_service else '' }
    - "separate_phone_service_cb__2": ${ True if separate_phone_service else '' }
    - "phone_provider": ${ phone_provider if separate_phone_service else '' }
    - "phone_account_holder": |
        % if phone_account_holder == 'respondent' and separate_phone_service == True:
        ${other_parties[0].name.full(middle="full")}
        % elif phone_account_holder == 'other' and separate_phone_service == True:
        ${ other_phone_account_holder.name.full(middle="full") }
        % endif
    - "billing_phone_number": ${ phone_number_formatted(billing_phone_number) if separate_phone_service else '' }
    - "cell_number_1": ${ phone_number_formatted(cell_numbers[0].name.text) if separate_phone_service else '' }
    - "cell_number_2": ${ phone_number_formatted(cell_numbers[1].name.text) if separate_phone_service else '' }
    - "cell_number_3": ${ phone_number_formatted(cell_numbers[2].name.text) if separate_phone_service else '' }
    - "cell_number_4": ${ phone_number_formatted(cell_numbers[3].name.text) if separate_phone_service else '' }

     # page 9

    - "protect_petitioner_findings": ${ protect_petitioner }
    - "protect_shared_kids_findings": ${ protect_shared_kids }
    - "protect_others_findings": ${ True if protect_petitioner_kids or protect_dependent_adult or protect_high_risk_adult or protect_other_hh_members else '' }

    - "relationship_se": ${ relationship_type['se'] }
    - "relationship_xs": ${ relationship_type['xs'] }
    - "relationship_bg": ${ relationship_type['bg'] }
    - "relationship_cc": ${ relationship_type['cc'] }
    - "relationship_cs": ${ relationship_type['cs'] }
    - "relationship_ch": ${ relationship_type['ch'] }
    - "relationship_pa": ${ relationship_type['pa'] }
    - "relationship_sb": ${ relationship_type['sb'] }
    - "relationship_of": ${ relationship_type['of'] }
    - "relationship_il": ${ relationship_type['il'] }
    - "relationship_sc": ${ relationship_type['sc'] }
    - "relationship_ss": ${ relationship_type['ss'] }
    - "relationship_sp": ${ relationship_type['sp'] }
    - "relationship_gc": ${ relationship_type['gc'] }
    - "relationship_gp": ${ relationship_type['gp'] }
    - "relationship_pc": ${ relationship_type['pc'] }
    - "relationship_pr": ${ relationship_type['pr'] }
    - "relationship_f": ${ relationship_type['f'] }
    - "relationship_a": ${ relationship_type['a'] }
    - "relationship_l": ${ relationship_type['l'] }
    - "relationship_ot": ${ relationship_type['ot'] }
    - "relationship_pd": ${ relationship_type['pd'] }

---
attachment:
  variable name: plenary_op[i]
  name: plenary_op
  filename: plenary_op
  skip undefined: True
  editable: False
  pdf template file: plenary_op.pdf
  fields:
    - "county": ${ trial_court.address.county.upper() }
    - "civil_proceeding": True
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "petitioner__2": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "case_number__2": ${ case_number }
    - "case_number__3": ${ case_number }
    - "case_number__4": ${ case_number }
    - "case_number__5": ${ case_number }
    - "case_number__6": ${ case_number }
    - "case_number__7": ${ case_number }
    - "case_number__8": ${ case_number }
    - "case_number__9": ${ case_number }
    - "case_number__10": ${ case_number }
    - "case_number__11": ${ case_number }
    - "case_number__12": ${ case_number }
    - "case_number__13": ${ case_number }
    - "case_number__14": ${ case_number }
    - "protect_petitioner": ${ protect_petitioner }
    - "protect_shared_kids": ${ protect_shared_kids }
    - "shared_kids_list": ${ comma_and_list([person.name.full(middle="full") for person in shared_kids if person.protect == True]) if (minor_kids_with_respondent == True and shared_kids.number() > 0 and protect_shared_kids == True) else "" }
    - "protect_petitioner_kids": ${ protect_petitioner_kids }
    - "petitioner_kids_list": ${ petitioner_kids.full_names() if protect_petitioner_kids else '' }
    - "protect_dependent_adult": ${ protect_dependent_adult }
    - "protect_high_risk_adult": ${ protect_high_risk_adult }
    - "protect_other_hh_members": ${ protect_other_hh_members }
    - "other_hh_members_list": ${ other_hh_members.full_names() if protect_other_hh_members else '' }
    - "dependent_adult": ${ dependent_adult.name.full(middle="full") if protect_dependent_adult else '' }
    - "high_risk_adult": ${ high_risk_adult.name.full(middle="full") if protect_high_risk_adult else '' }
    
      # page 2
    - "show_address": ${ not hide_address }
    - "hide_address": ${ hide_address }
    - "notice_address_one_line": ${ users[0].address.on_one_line(bare=True) }
    - "petitioner_notice_email": ${ users[0].email if users[0].email_notice else ""}
    - "respondent_gender": |
        % if trial_court_index == -1:
        ${ other_parties[0].sex_other if other_parties[0].sex == 'other' else other_parties[0].sex }
        % else:
        ${ respondent_gender_other if other_parties[0].gender == 'other' else other_parties[0].gender }
        % endif
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ other_parties[0].birthdate_info }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_home_address": |
        % if other_parties[0].address.address != "":
        % if knows_respondent_home:
        ${ other_parties[0].address.on_one_line(bare=True) }
        % else:
        ${ "Last known: " + other_parties[0].address.on_one_line(bare=True) }
        % endif
        % else:
        ${ "do not know" }
        % endif
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and other_parties[0].work_hours != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.on_one_line(bare=True) }
        % else:
        ${ "do not know" }
        % endif

    - "no_abuse": ${ any((no_harassment, no_physical, no_stalking, no_willful, no_intimidation, no_exploitation, no_neglect, no_interference)) }
    - "no_harassment": ${ no_harassment }
    - "no_physical": ${ no_physical }
    - "no_stalking": ${ no_stalking }
    - "no_willful": ${ no_willful }
    - "no_intimidation": ${ no_intimidation }
    - "no_exploitation": ${ no_exploitation }
    - "no_neglect": ${ no_neglect }
    - "no_interference": ${ no_interference}

    - "possession_residence": ${ not (residence_remedies == 'none') }
    - "exclusive_possession": ${ residence_remedies == 'exclusive possession' }
    - "exclusive_home_address_checkbox": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "exclusive_home_address_one_line": |
        % if (not hide_address) and (residence_remedies == 'exclusive possession'):
        ${ users[0].address.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "exclusive_address_hidden": |
        % if hide_address and (residence_remedies == 'exclusive possession'):
        ${ True }
        % else:
        ${ False }
        % endif
    - "respondent_no_right_to_stay": ${ exclusive_possession_reason == "respondent_no_right_to_stay" }
    - "both_parties_right_to_stay": ${ exclusive_possession_reason == "both_parties_right_to_stay" }
    - "alt_housing_cb": ${ residence_remedies == 'provide alternate housing' }
    - "alt_housing_start_cb": ${ "" }
    - "alt_housing_start_date": ${ "" }
    - "alt_housing_requirements_cb": ${ "" }
    - "alt_housing_requirements_text": ${ "" }

      # page 3
    - "stay_away_checkbox": ${ any((no_communication, stay_away)) }
    - "no_communication": ${ no_communication }
    - "stay_away": ${ stay_away }
    #- "stay_away_feet_cb": ${ True if (stay_away and stay_away_distance != None) else "" }
    #- "stay_away_feet": ${ stay_away_distance if stay_away else "" }
      
    - "stay_away_locations": ${ any((stay_away_jobs, stay_away_schools, stay_away_other))}
    - "stay_away_jobs": ${ stay_away_jobs }
    - "stay_away_job_1": |
        % if hide_work_address and stay_away_jobs:
        % if trial_court_index == 71:
        ${ "" }
        % else:
        ${ "Wherever protected party may be employed" }
        % endif
        % elif stay_away_jobs:
        ${ jobs[0].employer + ", " + jobs[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_job_2": |
        % if hide_work_address and stay_away_jobs:
        ${ "" }
        % elif stay_away_jobs_2:
        ${ jobs[1].employer + ", " + jobs[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_schools": ${ stay_away_schools }
    - "stay_away_school_1": |
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
    - "stay_away_school_2": |
        % if minor_kids_with_respondent or protect_petitioner_kids:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
    - "confidential_schools__1": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools else False }
    
    - "stay_away_other": ${ stay_away_other }
    - "stay_away_other_1": |
        % if hide_other_address_1 and stay_away_other:
        ${ other_locations_hidden_description_1 }
        % elif stay_away_other:
        ${ other_locations[0].name + ", " + other_locations[0].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif
    - "stay_away_other_2": |
        % if hide_other_address_2 and stay_away_other:
        ${ other_locations_hidden_description_2 }
        % elif stay_away_other_2:
        ${ other_locations[1].name + ", " + other_locations[1].on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif

    - "respondent_one_time_entry": ${ True if respondent_one_time_entry == True else '' }
    - "respondent_one_time_entry_police": ${ True if respondent_one_time_entry == True and property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_other_cb": ${ True if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "respondent_one_time_entry_name": ${ other_transfer_property_person.name.full(middle="full") if respondent_one_time_entry == True and property_transfer_person == 'other' and property_transfer_present_cb == True else '' }

    - "same_school_restrictions": ${ True if (same_school and same_school_restrictions != "none") else ""} 
    - "same_school_name": ${ same_school_name if (same_school and same_school_restrictions != "none") else ""}

    - "same_school_not_attend": ${ True if (same_school and same_school_restrictions == "not attend") else ""}
    - "same_school_change_placement": ${ True if (same_school and same_school_restrictions == "change program") else ""}
    - "same_school_avoid_parts": ${ True if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "same_school_parts": ${ parts_of_school if (same_school and same_school_restrictions == "not present in parts") else ""}
    - "respondent_parent_help": ${True if respondent_parent_help == "Yes" else ""}
    - "respondent_parent_name": ${ respondent_parent_name if respondent_parent_help == "Yes" else "" }
    - "respondent_parent_order": ${ respondent_parent_order if respondent_parent_help == "Yes" else "" }

      # page 4
    - "counseling": ${ request_counseling }    
    - "dv_counseling": ${ True if request_counseling and dv_counseling else '' }    
    - "alcohol_counseling": ${ True if request_counseling and alcohol_counseling else '' }    
    - "mental_health_counseling": ${ True if request_counseling and mental_health_counseling else '' } 
    - "other_counseling": ${ True if request_counseling and other_counseling else '' }    
    - "other_counseling_text": ${ other_counseling_text if request_counseling and other_counseling else '' }    

    - "care_and_possession_of_children": ${ minor_kids_with_respondent } 
    - "minor_kids_with_respondent": ${ minor_kids_with_respondent }
    - "shared_kids_1_name": ${ shared_kids[0].name.full(middle="full") }
    - "shared_kids_1_age": ${ shared_kids[0].age_in_years() }
    - "shared_kids_1_state": ${ shared_kids[0].address.state }
    - "shared_kids_1_include_yes": ${ shared_kids[0].protect }
    - "shared_kids_1_include_no": ${ shared_kids[0].protect is False }
    - "shared_kids_2_name": ${ shared_kids[1].name.full(middle="full") }
    - "shared_kids_2_age": ${ shared_kids[1].age_in_years() }
    - "shared_kids_2_state": ${ shared_kids[1].address.state }
    - "shared_kids_2_include_yes": ${ shared_kids[1].protect}
    - "shared_kids_2_include_no": ${ shared_kids[1].protect is False }
    - "shared_kids_3_name": ${ shared_kids[2].name.full(middle="full") }
    - "shared_kids_3_age": ${ shared_kids[2].age_in_years() }
    - "shared_kids_3_state": ${ shared_kids[2].address.state }
    - "shared_kids_3_include_yes": ${ shared_kids[2].protect }
    - "shared_kids_3_include_no": ${ shared_kids[2].protect is False }
    - "shared_kids_4_name": ${ shared_kids[3].name.full(middle="full") }
    - "shared_kids_4_age": ${ shared_kids[3].age_in_years() }
    - "shared_kids_4_state": ${ shared_kids[3].address.state }
    - "shared_kids_4_include_yes": ${ shared_kids[3].protect }
    - "shared_kids_4_include_no": ${ shared_kids[3].protect is False }
    - "parentage_cb": ${ minor_kids_with_respondent }
    - "parentage_not_established": ${ True if (parentage == "parentage_not_established" and minor_kids_with_respondent) else '' }
    - "parentage_established": ${ True if ((parentage == "parentage_established_by_marriage" or parentage == "parentage_established_other") and minor_kids_with_respondent) else '' }
    - "parentage_established_marriage": ${ True if (parentage == "parentage_established_by_marriage" and minor_kids_with_respondent) else '' }
    - "parentage_established_other": ${ True if (parentage == "parentage_established_other" and (parentage_vap == True or parentage_order == True) and minor_kids_with_respondent) else '' }
    - "parentage_other_text": ${ other_parentage_method if (minor_kids_with_respondent and parentage == "parentage_established_other") else '' }
    - "caretaker_cb": ${ minor_kids_with_respondent }
    - "caretaker_petitioner": ${ True if (primary_caretaker == "petitioner" and minor_kids_with_respondent) else '' }

    - "caretaker_respondent": ${ True if (primary_caretaker == "respondent" and minor_kids_with_respondent) else '' }
    - "caretaker_other": ${ True if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_name": ${ other_caretaker.name.full(middle="full") if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    - "other_caretaker_address": ${ other_caretaker.address.on_one_line(bare=True) if (primary_caretaker == "other" and minor_kids_with_respondent) else '' }
    # care_and_possession does not exist on orders?
    #- "care_and_possession_cb": ${ True if physical_care_of_children or return_children_to == "petitioner" or return_children_to == "other" or no_removal_school or ((schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent) else '' }
    - "physical_care_of_children": ${ True if physical_care_of_children and minor_kids_with_respondent else '' }
    
    - "return_children_possession": ${ True if (return_children_to == "petitioner" or return_children_to == "other") and minor_kids_with_respondent else '' }
    - "return_children_petitioner_cb": ${ True if return_children_to == "petitioner" and minor_kids_with_respondent else '' }
    - "return_children_other_cb": ${ True if return_children_to == "other" and minor_kids_with_respondent else '' }    
    - "return_children_other_person": ${ return_children_other_person.name.full(middle="full") if return_children_to == "other" and minor_kids_with_respondent else '' }
    
    
      # page 5
    - "return_children_location_cb": ${ True if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_location": ${ return_children_location.on_one_line(bare=True) if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_on": ${ True if on_or_by == "on" and knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_by": ${ True if on_or_by == "by" and knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_date": ${ return_children_date if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_time": ${ format_time(return_children_time, format='h:mm a') if knows_return_children_details and minor_kids_with_respondent else "" }
    - "return_children_present_name": ${ return_children_present_name if knows_return_children_details and return_children_present and minor_kids_with_respondent else "" }
    
    - "no_removal_school": ${ True if no_removal_school and minor_kids_with_respondent else '' }
    - "no_removal_schools_list": |
        % if no_removal_school and minor_kids_with_respondent:    
        % if stay_away_schools:
        % if schools[0].hide:
        ${ "School 1: Confidential  " }
        % else:
        ${ schools[0].name + "  " }
        % endif
        % endif
        % if stay_away_schools_2:
        % if schools[1].hide:
        ${ "School 2: Confidential" }
        % else:
        ${ schools[1].name }
        % endif
        % endif
        % endif

    - "schools_get_order": ${ True if stay_away_schools and minor_kids_with_respondent else ''}
    
    - "get_order_school_1": |
        % if minor_kids_with_respondent:
        % if schools[0].hide:
        ${ "Confidential" }
        % else:
        ${ schools[0].name + ", " + schools[0].on_one_line(bare=True) if stay_away_schools else '' }
        % endif
        % endif
    - "get_order_school_2": |
        % if minor_kids_with_respondent:
        % if schools[1].hide:
        ${ "Confidential" }
        % else:
        ${ schools[1].name + ", " + schools[1].on_one_line(bare=True) if stay_away_schools_2 else '' }
        % endif
        % endif
    - "confidential_schools__2": ${ True if (schools[0].hide or schools[1].hide) and stay_away_schools and minor_kids_with_respondent else False }
    
    - "temp_custody_cb": ${ True if temp_custody_of_children and minor_kids_with_respondent else '' }
    
    - "parenting_time_cb": ${ True if parenting_time and minor_kids_with_respondent else '' }
    - "parenting_time_grant": ${ True if parenting_time == "grant" and minor_kids_with_respondent else '' }
    - "parenting_time_reserve": ${ True if parenting_time == "reserve" and minor_kids_with_respondent else '' }
    - "parenting_time_deny": ${ True if parenting_time == "deny" and minor_kids_with_respondent else '' }
    - "parenting_time_restrict": ${ True if parenting_time == "restrict" and minor_kids_with_respondent else '' }
    - "no_pt_no_abuse": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_abuse"] and minor_kids_with_respondent else '' }
    - "no_pt_no_harass": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_harass"] and minor_kids_with_respondent else '' }
    - "no_pt_no_hide": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_hide"] and minor_kids_with_respondent else '' }
    - "no_pt_no_best_interest": ${ True if (parenting_time == "restrict" or parenting_time == "deny") and restrict_or_deny_pt_reasons["no_pt_no_best_interest"] and minor_kids_with_respondent else '' }
    - "pt_format": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and minor_kids_with_respondent else '' }
    - "pt_attach": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "attach" and minor_kids_with_respondent else ''  }
    - "pt_interview": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekdays": ${ True if pt_weekdays and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_list": ${ comma_and_list(dow_full[int(y)] for y in pt_weekday_days.true_values()) if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent == True else '' }
    - "pt_weekday_start": ${ format_time(pt_weekday_start, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekday_end": ${ format_time(pt_weekday_end, format='h:mm a') if pt_weekdays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every": ${ True if pt_weekend_cadence == "every" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_every_other": ${ True if pt_weekend_cadence == "other" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat": ${ True if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sat_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "frisat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun": ${ True if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_fri_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "frisun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat": ${ True if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "sat" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun": ${ True if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sat_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "satsun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun": ${ True if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun_start": ${ format_time(pt_weekend_start, format='h:mm a') if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_weekend_sun_end": ${ format_time(pt_weekend_end, format='h:mm a') if pt_weekend_days == "sun" and pt_weekends == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date_cb": ${ True if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_start_date": ${ pt_start_date if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    
      # page 6    
    - "pt_holidays": ${ pt_holidays if (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else '' }
    - "pt_holiday_list": ${ pt_holiday_list if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_holiday_start": ${ format_time(pt_holiday_start, format='h:mm a') if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_holiday_end": ${ format_time(pt_holiday_end, format='h:mm a') if pt_holidays == True and (parenting_time == "grant" or parenting_time == "restrict") and pt_format == "interview" and minor_kids_with_respondent else ''}
    - "pt_transportation_cb": ${ True if pt_transportation != "later" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_transportation_person_name": |
        % if pt_transportation == "petitioner" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Petitioner" }
        % elif pt_transportation == "respondent" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ "Respondent" }
        % elif pt_transportation == "other" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_transportation_person.name.full(middle="full") }
        % else:
        ${ "" }
        % endif
    - "pt_pickup_location_cb": ${ True if pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_pickup_location": |
        % if pt_pickup_location.name == "" and pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.on_one_line(bare=True) }
        % elif pt_separate_pickup_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_pickup_location.name + ", " + pt_pickup_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_return_location_cb": ${ True if pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_return_location": |
        % if pt_return_location.name == "" and pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.on_one_line(bare=True) }
        % elif pt_separate_return_location == True and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_return_location.name + ", " + pt_return_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_location_cb": ${ True if pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "pt_location": |
        % if pt_location.name == "" and pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.on_one_line(bare=True) }
        % elif pt_location_identified == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant"):
        ${ pt_location.name + ", " + pt_location.on_one_line(bare=True) }
        % else:
        ${ "" }
        % endif          
    - "pt_supervised": ${ True if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervisor_name": ${ pt_supervisor.name.full(middle="full") if pt_supervised == True and pt_supervisor_type == "person" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_supervised_center_cb": ${ True if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") else "" }
    - "pt_visitation_center_name": ${ pt_visitation_center_name  if pt_supervised == True and pt_supervisor_type == "agency" and (parenting_time == "restrict" or parenting_time == "grant") and pt_visitation_center_name != "" else "" }    
    - "pt_immediate_return_cb": ${ True if pt_immediate_return == True and (parenting_time == "restrict" or parenting_time == "grant") else "" }

    - "no_conceal_children_cb": ${ True if no_conceal_children and minor_kids_with_respondent else '' }

    - "order_to_appear_cb": ${ True if return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_cb": ${ True if return_children_to == "court" and minor_kids_with_respondent else '' }
    # not used - "appear_alone_cb": ${ True if appear_alone_for_exam == True and return_children_to != "court" else '' }
    - "appear_with_children_prevent": ${ True if appear_with_children_prevent and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_return": ${ True if appear_with_children_return and return_children_to == "court" and minor_kids_with_respondent else '' }
    - "appear_with_children_exam": ${ True if appear_with_children_exam and return_children_to == "court" and minor_kids_with_respondent else '' }

    - "return_property_cb": ${ True if (award_personal_property or respondent_one_time_entry) else "" }
    - "award_petitioner_property_cb": ${ True if award_personal_property else "" }
    - "petitioner_property_awarded_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property]) if award_personal_property else "" }
    - "respondent_ordered_return_property_cb": ${ True if award_personal_property == True and return_property == True else "" }
    - "return_all_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] == [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "return_some_property_cb": ${ True if [item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True else "" }
    - "petitioner_property_ordered_return_list": ${ comma_and_list([item.name.text for item in petitioner_personal_property if item.respo_has == True]) if ([item.name.text for item in petitioner_personal_property] != [item.name.text for item in petitioner_personal_property if item.respo_has == True] and award_personal_property == True and return_property == True) else "" }
    
     # page 7    
    - "return_property_person": |
        % if award_personal_property == True and return_property == True: 
        % if return_property_person == "petitioner":
        ${ "Petitioner" }
        % elif return_property_person == 'other':
        ${ other_return_property_person.name.full(middle="full") }
        % endif
        % endif
    
    - "return_property_reason_petitioner_owns": ${ True if (return_property_reason == "petitioner owns" and award_personal_property == True and return_property == True) else "" }
    - "return_property_reason_both_own": ${ True if (return_property_reason == "both own" and award_personal_property == True and return_property == True) else "" }

    - "return_property_reason_divorce": ${ True if (return_property_reason == "divorce" and award_personal_property == True and return_property == True and divorce_filed == True) else "" }
    - "return_respo_property": ${ True if return_respo_property else '' }
    - "return_respo_clothes": ${ True if (return_respo_property == True and respo_property['clothes'] == True) else '' }
    - "return_respo_medicine": ${ True if (return_respo_property == True and respo_property['medicine'] == True) else '' }
    - "return_respo_property_other": ${ True if (return_respo_property == True and respo_property['other'] == True) else '' }
    - "return_respo_property_list": ${ respo_property_other if (return_respo_property == True and respo_property['other'] == True) else '' }
    
    - "property_transfer_location_cb": ${ True if property_transfer_location_cb == True else '' }
    - "property_transfer_location": ${ property_transfer_location.on_one_line(bare=True) if property_transfer_location_cb == True else '' }
    - "property_transfer_present_cb": ${ True if property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_cb": ${ True if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_police_name": ${ property_transfer_police if property_transfer_person == 'police' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_cb": ${ True if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_present_other_name": ${ other_transfer_property_person.name.full(middle="full") if property_transfer_person == 'other' and property_transfer_present_cb == True else '' }
    - "property_transfer_date": ${ property_transfer_date if property_transfer_know_date == True else '' }
    - "property_transfer_time": ${ format_time(property_transfer_time, format='h:mm a') if property_transfer_know_date == True else ''  }
    - "request_police_at_transfer_petitioner": ${ True if request_police_person == "petitioner" and property_transfer_person == 'police' and property_transfer_present_cb == True else "" }    
    - "request_police_at_transfer_respondent": ${ True if request_police_person == "respondent" and property_transfer_person == 'police' and property_transfer_present_cb == True else "" }    
    
    - "property_restrictions_cb": ${ True if restrict_other_property == True or restrict_elderly_petitioner_resources == "Yes" else "" }
    - "restrict_property_cb": ${ True if restrict_other_property == True else "" }
    - "restricted_property_list": ${ restricted_property.rstrip('.') if restrict_other_property == True else "" }
    - "restrict_property_reason_petitioner_owns": ${ True if restrict_property_reason == "petitioner" and restrict_other_property == True else "" }
    - "restrict_property_reason_both_own": ${ True if restrict_property_reason == "both" and restrict_other_property == True else "" }
    - "restrict_divorce_filed_yes": ${ True if restrict_divorce_filed == True and restrict_other_property == True and restrict_property_reason == "divorce" else "" }
    - "restrict_property_elderly_petitioner": ${ True if restrict_elderly_petitioner_resources == "Yes" else '' }
    - "possession_of_animals": ${ True if possession_of_animals else "" }
    - "animals_list": ${ comma_and_list([item.name.text + " (" + indefinite_article(item.description) + ")" for item in pets]) if possession_of_animals else "" }


    - "temp_support_cb": |
        % if temp_child_support and minor_kids_with_respondent:
        ${ True }
        % elif relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif        
    - "temp_child_support": ${ True if (temp_child_support == True and minor_kids_with_respondent == True) else '' }
    
     # page 8
    - "temp_maintenance": |
        % if relationship_ma:
        % if temp_maintenance and (relationship_se or relationship_xs):
        ${ True }
        % endif        
        % endif        
    - "payment_for_losses_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_any_cb":  |
        % if not expenses_none and (expenses_medical or expenses_lost_income or expenses_property or expenses_moving or expenses_housing or expenses_children or expenses_lawyer or expenses_other):
        ${ True }
        % endif
    - "expenses_medical": |
        % if not expenses_none:
        ${ expenses_medical }
        % endif
    - "expenses_medical_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_medical_amount, show_decimals=True) }
        % endif
    - "expenses_lost_income":  |
        % if not expenses_none:
        ${ expenses_lost_income }
        % endif
    - "expenses_lost_income_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lost_income_amount, show_decimals=True) }
        % endif
    - "expenses_property":  |
        % if not expenses_none:
        ${ expenses_property }
        % endif
    - "expenses_property_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_property_amount, show_decimals=True) }
        % endif
    - "expenses_moving":  |
        % if not expenses_none:
        ${ expenses_moving }
        % endif
    - "expenses_moving_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_moving_amount, show_decimals=True) }
        % endif
    - "expenses_housing":  |
        % if not expenses_none:
        ${ expenses_housing }
        % endif
    - "expenses_housing_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_housing_amount, show_decimals=True) }
        % endif
    - "expenses_children":  |
        % if not expenses_none:
        ${ expenses_children }
        % endif
    - "expenses_children_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_children_amount, show_decimals=True) }
        % endif
    - "expenses_lawyer":  |
        % if not expenses_none:
        ${ expenses_lawyer }
        % endif
    - "expenses_lawyer_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_lawyer_amount, show_decimals=True) }
        % endif
    - "expenses_other":  |
        % if not expenses_none:
        ${ expenses_other }
        % endif
    - "expenses_other_kind":  |
        % if not expenses_none:
        ${ expenses_other_kind }
        % endif
    - "expenses_other_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_other_amount, show_decimals=True) }
        % endif      

    - "no_stay_under_influence": ${ no_stay_under_influence if not (stay_away or no_communication or (residence_remedies == 'exclusive possession') or (residence_remedies == 'provide alternate housing')) else ''}
    - "firearms_cb": ${ True if firearms_turnover else '' }
    - "firearms_turnover": ${ True if firearms_turnover else '' }
    - "firearms_not_intimate_partner": ${ "*Respondent is not an intimate partner of Petitioner.*" if firearms_turnover == True and intimate_partner != "Yes" else "" }    
    - "firearms_remedy__1": ${ True if firearms_turnover else '' }
    - "firearms_remedy__2": ${ True if firearms_turnover else '' }
    - "firearms_remedy__3": ${ True if firearms_turnover else '' }
    - "firearms_remedy__4": ${ True if firearms_turnover else '' }
    - "firearms_remedy__5": ${ True if firearms_turnover else '' }
    
    # page 9
    
    - "firearms_remedy__6": ${ True if firearms_turnover else '' }

    - "childrens_records_cb": ${ True if minor_kids_with_respondent and ( no_records_no_contact or no_records_hide_address or no_records_no_removal ) else "" }
    - "no_records_no_contact": ${ True if minor_kids_with_respondent and no_records_no_contact else "" }
    - "no_records_hide_address": ${ True if minor_kids_with_respondent and no_records_hide_address else "" }
    - "no_records_no_removal": ${ True if minor_kids_with_respondent and no_records_no_removal else "" }

    - "expenses_shelter":  |
        % if not expenses_none:
        ${ expenses_shelter }
        % endif
    - "expenses_shelter_amount":  |
        % if not expenses_none:
        ${ thousands(expenses_shelter_amount, show_decimals=True) }
        % endif

    - "misc_remedies_cb__1": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_cb__2": ${ True if misc_remedies_text != '' else '' }
    - "misc_remedies_text": ${ misc_remedies_text }
    - "separate_phone_service_cb__1": ${ True if separate_phone_service else '' }
    - "separate_phone_service_cb__2": ${ True if separate_phone_service else '' }
    - "phone_provider": ${ phone_provider if separate_phone_service else '' }
    - "phone_account_holder": |
        % if phone_account_holder == 'respondent' and separate_phone_service == True:
        ${other_parties[0].name.full(middle="full")}
        % elif phone_account_holder == 'other' and separate_phone_service == True:
        ${ other_phone_account_holder.name.full(middle="full") }
        % endif
    - "billing_phone_number": ${ phone_number_formatted(billing_phone_number) if separate_phone_service else '' }
    - "cell_number_1": ${ phone_number_formatted(cell_numbers[0].name.text) if separate_phone_service else '' }
    - "cell_number_2": ${ phone_number_formatted(cell_numbers[1].name.text) if separate_phone_service else '' }
    - "cell_number_3": ${ phone_number_formatted(cell_numbers[2].name.text) if separate_phone_service else '' }
    - "cell_number_4": ${ phone_number_formatted(cell_numbers[3].name.text) if separate_phone_service else '' }

     # page 11

    - "protect_petitioner_findings": ${ protect_petitioner }
    - "protect_shared_kids_findings": ${ protect_shared_kids }
    - "protect_others_findings": ${ True if protect_petitioner_kids or protect_dependent_adult or protect_high_risk_adult or protect_other_hh_members else '' }

    - "relationship_se": ${ relationship_type['se'] }
    - "relationship_xs": ${ relationship_type['xs'] }
    - "relationship_bg": ${ relationship_type['bg'] }
    - "relationship_cc": ${ relationship_type['cc'] }
    - "relationship_cs": ${ relationship_type['cs'] }
    - "relationship_ch": ${ relationship_type['ch'] }
    - "relationship_pa": ${ relationship_type['pa'] }
    - "relationship_sb": ${ relationship_type['sb'] }
    - "relationship_of": ${ relationship_type['of'] }
    - "relationship_il": ${ relationship_type['il'] }
    - "relationship_sc": ${ relationship_type['sc'] }
    - "relationship_ss": ${ relationship_type['ss'] }
    - "relationship_sp": ${ relationship_type['sp'] }
    - "relationship_gc": ${ relationship_type['gc'] }
    - "relationship_gp": ${ relationship_type['gp'] }
    - "relationship_pc": ${ relationship_type['pc'] }
    - "relationship_pr": ${ relationship_type['pr'] }
    - "relationship_f": ${ relationship_type['f'] }
    - "relationship_a": ${ relationship_type['a'] }
    - "relationship_l": ${ relationship_type['l'] }
    - "relationship_ot": ${ relationship_type['ot'] }
    - "relationship_pd": ${ relationship_type['pd'] }

---
attachment:
  variable name: cook_dv_cover_sheet[i]
  name: cook_dv_cover_sheet
  filename: cook_dv_cover_sheet
  skip undefined: True
  editable: False
  pdf template file: cook_dv_cover_sheet.pdf
  fields:
    - "petitioner__1": ${ users[0].name.full(middle="full") }
    - "respondent": ${other_parties[0].name.full(middle="full")}
    - "case_number__1": ${ case_number }
    - "civil_proceeding": ${ True }

    - "involves_minors_yes": ${ True if minor_kids_with_respondent else '' }
    - "involves_minors_no": ${ True if not minor_kids_with_respondent else '' }
    - "previous_divorce_yes": ${ True if previous_cook_case_type == "divorce" else '' }
    - "previous_divorce_no": ${ True if not previous_cook_case_type == "divorce" or previous_cook_case_type == "none" else '' }
    - "previous_parentage_yes": ${ True if previous_cook_case_type == "parentage" else '' }
    - "previous_parentage_no": ${ True if not previous_cook_case_type == "parentage" or previous_cook_case_type == "none" else '' }
    - "previous_cook_case_date": ${ format_date(previous_cook_case_date, format='MMM d, yyyy') if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage" else '' }
    - "previous_cook_case_number": ${ previous_cook_case_number if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage" else '' }
    - "previous_cook_case_judge": ${ previous_cook_case_judge if previous_cook_case_type == "divorce" or previous_cook_case_type == "parentage" else '' }

    - "pro_se_cb": ${ True }
    - "petitioner__2": ${ users[0].name.full(middle="full") }
    - "preparer_address_line_1": ${ users[0].address.line_one(bare=True) }
    - "petitioner_city": ${ users[0].address.city }
    - "petitioner_state": ${ users[0].address.state }
    - "petitioner_zip": ${ users[0].address.zip }
    - "preparer_phone": ${ phone_number_formatted(users[0].phone_number) }
    - "preparer_email": ${ users[0].email if users[0].email_notice else ""}

---
attachment:
  variable name: cook_sheriff_info_sheet[i]
  name: cook_sheriff_info_sheet
  filename: cook_sheriff_info_sheet
  skip undefined: True
  editable: False
  pdf template file: cook_sheriff_info_sheet.pdf
  fields:
    - "respondent": ${other_parties[0].name.full(middle="full")}
    #- "case_number__1": ${ "" }
    - "alias_names": ${ alias_names}
    - "respondent_race": ${ respondent_race_other if other_parties[0].race == 'other' else other_parties[0].race }
    - "respondent_dob": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].birthdate }
        % elif knows_respondent_dob == 'some':
        ${ other_parties[0].birthdate_info }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_male_at_birth": ${ True if respondent_sex_at_birth == "male" else '' }    
    - "respondent_female_at_birth": ${ True if respondent_sex_at_birth == "female" else '' }    
    - "respondent_gender_m": ${ True if other_parties[0].gender['male'] == True else '' } 
    - "respondent_gender_w": ${ True if other_parties[0].gender['female'] == True else '' }
    - "respondent_gender_tw": ${ True if other_parties[0].gender['transfem'] == True else '' }
    - "respondent_gender_tm": ${ True if other_parties[0].gender['transmasc'] == True else '' }
    - "respondent_gender_nb": ${ True if other_parties[0].gender['nonbinary'] == True else '' }
    - "respondent_gender_other": ${ True if other_parties[0].gender['other'] == True else '' }
    - "respondent_gender_other_text": ${ respondent_gender_other if other_parties[0].gender['other'] == True else '' }
    
    - "respondent_age": |
        % if knows_respondent_dob == 'exact' and other_parties[0].birthdate != "":
        ${ other_parties[0].age_in_years() }
        % endif
    - "respondent_height": |
        % if other_parties[0].height_feet > 1:
        ${ str(other_parties[0].height_feet) + "\'" }
        % if other_parties[0].height_inches > 0:
        ${ str(other_parties[0].height_inches) + "\""}
        % endif
        % else:
        ${""}
        % endif
    - "respondent_weight": ${ str(other_parties[0].weight) + " lbs." if other_parties[0].weight > 0 else '' }
    - "respondent_skin": |
        % if other_parties[0].skin != "":
        ${ respondent_skin_other if other_parties[0].skin == 'other' else other_parties[0].skin }
        % endif
    - "respondent_hair": ${ other_parties[0].hair if other_parties[0].hair != "" else '' }
    - "respondent_eyes": ${ other_parties[0].eyes if other_parties[0].eyes != "" else '' }
    - "respondent_glasses": ${other_parties[0].glasses if other_parties[0].glasses != "" else ''}
    - "respondent_tattoos": ${ other_parties[0].tattoos if other_parties[0].tattoos != "" else '' }
    - "respondent_history_illness": ${ True if caution_reasons['illness'] == True else "" }
    - "respondent_alcohol": ${ True if caution_reasons['alcohol'] == True else "" }
    - "respondent_drugs": ${ True if caution_reasons['drugs'] == True else "" }
    - "respondent_firearms_on_person": ${ True if caution_reasons['armed'] == True else "" }
    - "respondent_weapons_in_home": ${ True if caution_reasons['home'] == True else "" }
    - "respondent_weapons_description": ${ weapons_description if caution_reasons['armed'] or caution_reasons['home'] == True else "" }        
    - "respondent_suicidal": ${ True if caution_reasons['suicidal'] == True else ''  }    
    - "respondent_probation_yes":  ${ True if respondent_on_probation == "Yes" else ''  } 
    - "respondent_probation_no":  ${ True if respondent_on_probation == "No" else ''  } 
    - "respondent_probation_county":  ${ respondent_probation_county if respondent_on_probation == "Yes" else ''  } 
    
    - "respondent_employer": |
        % if knows_respondent_work:
        ${ other_parties[0].employer }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_type": |
        % if knows_respondent_work and respondent_work_type != "":
        ${ respondent_work_type }
        % else:
        ${ "" }
        % endif
    - "respondent_work_hours": |
        % if knows_respondent_work and respondent_work_type != "":
        ${ other_parties[0].work_hours }
        % else:
        ${ "" }
        % endif
    - "service_address_line_1": |
        % if service_address_choice == "other":
        ${ service_address.line_one(bare=True) }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
    - "service_city": |
        % if service_address_choice == "other":
        ${ service_address.city }, ${ service_address.state }
        % elif service_address_choice == "home":
        ${ other_parties[0].address.city }, ${ other_parties[0].address.state }        
        % else:
        ${ other_parties[0].work_address.city }, ${ other_parties[0].work_address.state }        
        % endif
        
    - "last_known_address": |
        % if knows_respondent_home_last and knows_respondent_home == False:
        ${ other_parties[0].address.line_one(bare=True) }
        % endif
    - "last_known_city": |
        % if knows_respondent_home_last and knows_respondent_home == False:
        ${ other_parties[0].address.city }, ${ other_parties[0].address.state }
        % endif

    - "respondent_work_address": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.line_one(bare=True) }
        % else:
        ${ "do not know" }
        % endif
    - "respondent_work_city": |
        % if knows_respondent_work:
        ${ other_parties[0].work_address.city }, ${ other_parties[0].work_address.state }
        % else:
        ${ "do not know" }
        % endif

    - "service_alt_address_line_1": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.line_one(bare=True) }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.line_one(bare=True) }        
        % else:
        ${ other_parties[0].work_address.line_one(bare=True) }        
        % endif
        % endif
    - "service_alt_city": |
        % if has_second_service_address == True:
        % if second_service_address_choice == "other":
        ${ second_service_address.city }, ${ second_service_address.state }
        % elif second_service_address_choice == "home":
        ${ other_parties[0].address.city }, ${ other_parties[0].address.state } 
        % else:
        ${ other_parties[0].work_address.city }, ${ other_parties[0].work_address.state }        
        % endif
        % endif
    - "respondent_phone": ${ phone_number_formatted(other_parties[0].phone_number) }
    - "respondent_cell": ${ phone_number_formatted(other_parties[0].mobile_number) }
    - "respondent_email": ${ other_parties[0].email }
    - "respondent_social_media_yes": ${ True if respondent_on_social_media == "Yes" else '' }
    - "respondent_social_media_no": ${ True if respondent_on_social_media == "No" else '' }
    - "respondent_social_media_accounts": ${ respondent_social_media_accounts if respondent_on_social_media == "Yes" else '' }
    
    - "additional_service_info": ${ service_information }
    - "cook_vehicle_make": ${ respondent_car_make }
    - "cook_vehicle_model": ${ respondent_car_model }
    #- "cook_vehicle_make": ${ cook_vehicle_make }
    #- "cook_vehicle_model": ${ cook_vehicle_model }
    - "cook_vehicle_year": ${ cook_vehicle_year if cook_vehicle_year != 0 else "" }
    - "cook_vehicle_color": ${ cook_vehicle_color }
    - "cook_vehicle_plate": ${ cook_vehicle_plate }
    - "cook_vehicle_state": ${ state_name(cook_vehicle_state) }

    - "preparer_name": ${ users[0].name.full(middle="full") }
    - "preparer_phone": ${ phone_number_formatted(users[0].phone_number) }
---
attachment:
  variable name: sheriff_cover_sheet[i]
  name: sheriff_cover_sheet
  filename: sheriff_cover_sheet
  skip undefined: True
  editable: False
  pdf template file: sheriff_cover_sheet.pdf
  fields:
    - "fake": ${ "" }